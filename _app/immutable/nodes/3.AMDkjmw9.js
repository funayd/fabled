import{s as He,p as Ue,g as tl,a as ll,h as nl,T as il,b as Ae,i as Pe,j as Ve,k as ol,m as sl,n as rl,o as al,q as ye,u as fl,r as cl,t as be,R as ul,v as dl,w as _l,x as pl}from"../chunks/class-store.DyvcAQZm.js";import{_ as Te,s as $e,D as oe,Y as fe,a3 as ml,A as ge,B as F,i as $,f as p,e as y,t as te,a as j,c as D,b as R,d as le,g as H,o as N,$ as ee,h as S,j as se,a2 as we,a4 as hl,a5 as vl,E as Oe,m as ue,u as Y,J as he,z as me,k as pe,X as Bt,r as Ye,v as _e,a6 as We,p as Kt,a0 as gl,n as Be,l as bl}from"../chunks/scheduler.BzVtFYUS.js";import{r as kl,C as ze}from"../chunks/Control.BlLsGe1c.js";import{b as Fe}from"../chunks/entry.BE60Tw-v.js";import{S as Se,i as Ie,f as ae,b as G,d as ne,m as Q,t as w,a as A,e as Z,g as U,c as X,h as re,p as $l,o as Lt}from"../chunks/index.CfeTfVuV.js";import{e as ie,T as wl,u as Yt,o as Wt}from"../chunks/Toggle.BH4qOvgX.js";import{M as Ke,D as Cl,P as De,B as Je,a as Me,b as je,s as ke,c as Re,o as Le}from"../chunks/modal-service.C1W7T3O7.js";const El=!1;async function yl({params:i}){const e=i.id,l=i.type==="skill";let t;if(l){for(const n of Te(He.skills))if(n.name==e){t=n;break}if(t){if(!t.loaded){let n;if(t.location==="local")n=Ue(localStorage.getItem(`sapi.skill.${t.name}`)||"");else{const s=await tl.getSkillYaml(t.name);n=Ue(s)}n&&Object.keys(n).length>0&&await t.load(Object.values(n)[0]),t.postLoad()}return ll.set(t),nl.set(il.SKILLS),{data:t}}}kl(302,`${Fe}/${i.type}/${i.id}/edit`)}const mn=Object.freeze(Object.defineProperty({__proto__:null,load:yl,ssr:El},Symbol.toStringTag,{value:"Module"}));function Xe(i,e,l){const t=i.slice();return t[14]=e[l],t[15]=e,t[16]=l,t}function Ge(i){let e,l,t=i[0].name+"",n,s,o,a,r,c,f,u,_,d,m,b,E,h,T=i[0].description&&Qe(i);function I(v){i[2](v)}let K={label:"Comment",tooltip:"[comment] A comment that will be displayed in the skill editor"};i[0].comment!==void 0&&(K.value=i[0].comment),f=new Ae({props:K}),oe.push(()=>ae(f,"value",I));const J=[Sl,Dl],W=[];function L(v,V){return v[0]instanceof Pe&&v[0].name!=="Cast"&&v[0].name!=="Initialize"&&v[0].name!=="Cleanup"?0:v[0]instanceof Me||v[0]instanceof je||v[0]instanceof De?1:-1}~(d=L(i))&&(m=W[d]=J[d](i));let P=i[0]instanceof De&&Ze(i),M=ie(i[0].data),g=[];for(let v=0;v<M.length;v+=1)g[v]=et(Xe(i,M,v));const k=v=>A(g[v],1,1,()=>{g[v]=null});return{c(){e=y("h2"),l=y("span"),n=te(t),s=j(),T&&T.c(),o=j(),a=y("hr"),r=j(),c=y("div"),G(f.$$.fragment),_=j(),m&&m.c(),b=j(),P&&P.c(),E=j();for(let v=0;v<g.length;v+=1)g[v].c();this.h()},l(v){e=D(v,"H2",{class:!0});var V=R(e);l=D(V,"SPAN",{class:!0});var O=R(l);n=le(O,t),O.forEach(p),V.forEach(p),s=H(v),T&&T.l(v),o=H(v),a=D(v,"HR",{}),r=H(v),c=D(v,"DIV",{class:!0});var q=R(c);ne(f.$$.fragment,q),_=H(q),m&&m.l(q),b=H(q),P&&P.l(q),E=H(q);for(let C=0;C<g.length;C+=1)g[C].l(q);q.forEach(p),this.h()},h(){N(l,"class","svelte-13h7ryw"),N(e,"class","svelte-13h7ryw"),ee(e,"deprecated",i[0].isDeprecated),N(c,"class","component-entry svelte-13h7ryw")},m(v,V){$(v,e,V),S(e,l),S(l,n),$(v,s,V),T&&T.m(v,V),$(v,o,V),$(v,a,V),$(v,r,V),$(v,c,V),Q(f,c,null),S(c,_),~d&&W[d].m(c,null),S(c,b),P&&P.m(c,null),S(c,E);for(let O=0;O<g.length;O+=1)g[O]&&g[O].m(c,null);h=!0},p(v,V){(!h||V&1)&&t!==(t=v[0].name+"")&&se(n,t),(!h||V&1)&&ee(e,"deprecated",v[0].isDeprecated),v[0].description?T?T.p(v,V):(T=Qe(v),T.c(),T.m(o.parentNode,o)):T&&(T.d(1),T=null);const O={};!u&&V&1&&(u=!0,O.value=v[0].comment,fe(()=>u=!1)),f.$set(O);let q=d;if(d=L(v),d===q?~d&&W[d].p(v,V):(m&&(U(),A(W[q],1,1,()=>{W[q]=null}),X()),~d?(m=W[d],m?m.p(v,V):(m=W[d]=J[d](v),m.c()),w(m,1),m.m(c,b)):m=null),v[0]instanceof De?P?(P.p(v,V),V&1&&w(P,1)):(P=Ze(v),P.c(),w(P,1),P.m(c,E)):P&&(U(),A(P,1,1,()=>{P=null}),X()),V&1){M=ie(v[0].data);let C;for(C=0;C<M.length;C+=1){const B=Xe(v,M,C);g[C]?(g[C].p(B,V),w(g[C],1)):(g[C]=et(B),g[C].c(),w(g[C],1),g[C].m(c,null))}for(U(),C=M.length;C<g.length;C+=1)k(C);X()}},i(v){if(!h){w(f.$$.fragment,v),w(m),w(P);for(let V=0;V<M.length;V+=1)w(g[V]);h=!0}},o(v){A(f.$$.fragment,v),A(m),A(P),g=g.filter(Boolean);for(let V=0;V<g.length;V+=1)A(g[V]);h=!1},d(v){v&&(p(e),p(s),p(o),p(a),p(r),p(c)),T&&T.d(v),Z(f),~d&&W[d].d(),P&&P.d(),we(g,v)}}}function Qe(i){let e,l,t=i[0].description+"";return{c(){e=y("div"),l=new hl(!1),this.h()},l(n){e=D(n,"DIV",{class:!0});var s=R(e);l=vl(s,!1),s.forEach(p),this.h()},h(){l.a=null,N(e,"class","modal-desc svelte-13h7ryw")},m(n,s){$(n,e,s),l.m(t,e)},p(n,s){s&1&&t!==(t=n[0].description+"")&&l.p(t)},d(n){n&&p(e)}}}function Dl(i){let e,l,t;function n(o){i[7](o)}let s={label:"Icon Key",tooltip:'[icon-key] The key used by the component in the Icon Lore. If this is set to "example" and has a value name of "value", it can be referenced using the string "{attr:example.value}"'};return i[0].iconKey!==void 0&&(s.value=i[0].iconKey),e=new Ae({props:s}),oe.push(()=>ae(e,"value",n)),{c(){G(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){Q(e,o,a),t=!0},p(o,a){const r={};!l&&a&1&&(l=!0,r.value=o[0].iconKey,fe(()=>l=!1)),e.$set(r)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){Z(e,o)}}}function Sl(i){let e,l,t,n,s,o;function a(u){i[3](u)}let r={name:"Mana",tooltip:"[mana] Whether this trigger requires the mana cost to activate"};i[0].mana!==void 0&&(r.data=i[0].mana),e=new Je({props:r}),oe.push(()=>ae(e,"data",a)),e.$on("save",i[4]);function c(u){i[5](u)}let f={name:"Cooldown",tooltip:"[cooldown] Whether this trigger requires to be off cooldown to activate"};return i[0].cooldown!==void 0&&(f.data=i[0].cooldown),n=new Je({props:f}),oe.push(()=>ae(n,"data",c)),n.$on("save",i[6]),{c(){G(e.$$.fragment),t=j(),G(n.$$.fragment)},l(u){ne(e.$$.fragment,u),t=H(u),ne(n.$$.fragment,u)},m(u,_){Q(e,u,_),$(u,t,_),Q(n,u,_),o=!0},p(u,_){const d={};!l&&_&1&&(l=!0,d.data=u[0].mana,fe(()=>l=!1)),e.$set(d);const m={};!s&&_&1&&(s=!0,m.data=u[0].cooldown,fe(()=>s=!1)),n.$set(m)},i(u){o||(w(e.$$.fragment,u),w(n.$$.fragment,u),o=!0)},o(u){A(e.$$.fragment,u),A(n.$$.fragment,u),o=!1},d(u){u&&p(t),Z(e,u),Z(n,u)}}}function Ze(i){let e,l,t;function n(o){i[8](o)}let s={name:"Counts as Cast",tooltip:'[counts] Whether this mechanic running treats the skill as "casted" and will consume mana and start the cooldown. Set to false if it is a mechanic applled when the skill fails such as cleanup or an error message"'};return i[0].countsAsCast!==void 0&&(s.data=i[0].countsAsCast),e=new Je({props:s}),oe.push(()=>ae(e,"data",n)),e.$on("save",i[9]),{c(){G(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){Q(e,o,a),t=!0},p(o,a){const r={};!l&&a&1&&(l=!0,r.data=o[0].countsAsCast,fe(()=>l=!1)),e.$set(r)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){Z(e,o)}}}function xe(i){let e,l,t,n;function s(r){i[10](r,i[14])}var o=i[14].component;function a(r,c){let f={name:r[14].name,tooltip:(r[14].key?"["+r[14].key+"] ":"")+r[14].tooltip,multiple:r[14].multiple};return r[14].data!==void 0&&(f.data=r[14].data),{props:f}}return o&&(e=Oe(o,a(i)),oe.push(()=>ae(e,"data",s)),e.$on("save",i[11])),{c(){e&&G(e.$$.fragment),t=F()},l(r){e&&ne(e.$$.fragment,r),t=F()},m(r,c){e&&Q(e,r,c),$(r,t,c),n=!0},p(r,c){if(i=r,c&1&&o!==(o=i[14].component)){if(e){U();const f=e;A(f.$$.fragment,1,0,()=>{Z(f,1)}),X()}o?(e=Oe(o,a(i)),oe.push(()=>ae(e,"data",s)),e.$on("save",i[11]),G(e.$$.fragment),w(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(o){const f={};c&1&&(f.name=i[14].name),c&1&&(f.tooltip=(i[14].key?"["+i[14].key+"] ":"")+i[14].tooltip),c&1&&(f.multiple=i[14].multiple),!l&&c&1&&(l=!0,f.data=i[14].data,fe(()=>l=!1)),e.$set(f)}},i(r){n||(e&&w(e.$$.fragment,r),n=!0)},o(r){e&&A(e.$$.fragment,r),n=!1},d(r){r&&p(t),e&&Z(e,r)}}}function et(i){let e=i[14].meetsRequirements(i[0]),l,t,n=e&&xe(i);return{c(){n&&n.c(),l=F()},l(s){n&&n.l(s),l=F()},m(s,o){n&&n.m(s,o),$(s,l,o),t=!0},p(s,o){o&1&&(e=s[14].meetsRequirements(s[0])),e?n?(n.p(s,o),o&1&&w(n,1)):(n=xe(s),n.c(),w(n,1),n.m(l.parentNode,l)):n&&(U(),A(n,1,1,()=>{n=null}),X())},i(s){t||(w(n),t=!0)},o(s){A(n),t=!1},d(s){s&&p(l),n&&n.d(s)}}}function Il(i){let e,l,t=i[0]&&Ge(i);return{c(){t&&t.c(),e=F()},l(n){t&&t.l(n),e=F()},m(n,s){t&&t.m(n,s),$(n,e,s),l=!0},p(n,s){n[0]?t?(t.p(n,s),s&1&&w(t,1)):(t=Ge(n),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(U(),A(t,1,1,()=>{t=null}),X())},i(n){l||(w(t),l=!0)},o(n){A(t),l=!1},d(n){n&&p(e),t&&t.d(n)}}}function Nl(i){let e,l,t;function n(o){i[12](o)}let s={width:"70%",$$slots:{default:[Il]},$$scope:{ctx:i}};return i[1]!==void 0&&(s.open=i[1]),e=new Ke({props:s}),oe.push(()=>ae(e,"open",n)),e.$on("close",i[13]),{c(){G(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){Q(e,o,a),t=!0},p(o,[a]){const r={};a&131073&&(r.$$scope={dirty:a,ctx:o}),!l&&a&2&&(l=!0,r.open=o[1],fe(()=>l=!1)),e.$set(r)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){Z(e,o)}}}function Pl(i,e,l){let{data:t=void 0}=e,n=!0;ml(()=>{!n||!t||t.data.filter(h=>h instanceof Cl).forEach(h=>h.init())});function s(h){i.$$.not_equal(t.comment,h)&&(t.comment=h,l(0,t))}function o(h){i.$$.not_equal(t.mana,h)&&(t.mana=h,l(0,t))}function a(h){ge.call(this,i,h)}function r(h){i.$$.not_equal(t.cooldown,h)&&(t.cooldown=h,l(0,t))}function c(h){ge.call(this,i,h)}function f(h){i.$$.not_equal(t.iconKey,h)&&(t.iconKey=h,l(0,t))}function u(h){i.$$.not_equal(t.countsAsCast,h)&&(t.countsAsCast=h,l(0,t))}function _(h){ge.call(this,i,h)}function d(h,T){i.$$.not_equal(T.data,h)&&(T.data=h,l(0,t))}function m(h){ge.call(this,i,h)}function b(h){n=h,l(1,n)}function E(h){ge.call(this,i,h)}return i.$$set=h=>{"data"in h&&l(0,t=h.data)},[t,n,s,o,a,r,c,f,u,_,d,m,b,E]}class Vl extends Se{constructor(e){super(),Ie(this,e,Pl,Nl,$e,{data:0})}}function tt(i,e,l){const t=i.slice();return t[7]=e[l],t}function lt(i){let e,l,t,n=ie(i[1]),s=[];for(let o=0;o<n.length;o+=1)s[o]=nt(tt(i,n,o));return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0});var a=R(e);for(let r=0;r<s.length;r+=1)s[r].l(a);a.forEach(p),this.h()},h(){N(e,"class","component-section svelte-1kmselj")},m(o,a){$(o,e,a);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,a){if(a&6){n=ie(o[1]);let r;for(r=0;r<n.length;r+=1){const c=tt(o,n,r);s[r]?s[r].p(c,a):(s[r]=nt(c),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},i(o){t||(o&&he(()=>{t&&(l||(l=re(e,ke,{duration:200},!0)),l.run(1))}),t=!0)},o(o){o&&(l||(l=re(e,ke,{duration:200},!1)),l.run(0)),t=!1},d(o){o&&p(e),we(s,o),o&&l&&l.end()}}}function nt(i){let e,l=i[7].name+"",t,n,s,o;function a(){return i[5](i[7])}function r(...c){return i[6](i[7],...c)}return{c(){e=y("div"),t=te(l),n=j(),this.h()},l(c){e=D(c,"DIV",{class:!0});var f=R(e);t=le(f,l),n=H(f),f.forEach(p),this.h()},h(){N(e,"class","comp-select svelte-1kmselj"),ee(e,"deprecated",i[7].component.new().isDeprecated)},m(c,f){$(c,e,f),S(e,t),S(e,n),s||(o=[Y(e,"click",a),Y(e,"keypress",r)],s=!0)},p(c,f){i=c,f&2&&l!==(l=i[7].name+"")&&se(t,l),f&2&&ee(e,"deprecated",i[7].component.new().isDeprecated)},d(c){c&&p(e),s=!1,me(o)}}}function Tl(i){let e,l,t,n,s,o="expand_more",a,r,c,f=i[3]&&lt(i);return{c(){e=y("div"),l=y("h4"),t=te(i[0]),n=j(),s=y("span"),s.textContent=o,a=j(),f&&f.c(),this.h()},l(u){e=D(u,"DIV",{class:!0});var _=R(e);l=D(_,"H4",{class:!0});var d=R(l);t=le(d,i[0]),n=H(d),s=D(d,"SPAN",{class:!0,"data-svelte-h":!0}),ue(s)!=="svelte-x9yjyc"&&(s.textContent=o),d.forEach(p),a=H(_),f&&f.l(_),_.forEach(p),this.h()},h(){N(s,"class","icon material-symbols-rounded svelte-1kmselj"),ee(s,"expanded",i[3]),N(l,"class","comp-subsection-header svelte-1kmselj"),N(e,"class","comp-subsection svelte-1kmselj")},m(u,_){$(u,e,_),S(e,l),S(l,t),S(l,n),S(l,s),S(e,a),f&&f.m(e,null),r||(c=Y(l,"click",i[4]),r=!0)},p(u,[_]){_&1&&se(t,u[0]),_&8&&ee(s,"expanded",u[3]),u[3]?f?(f.p(u,_),_&8&&w(f,1)):(f=lt(u),f.c(),w(f,1),f.m(e,null)):f&&(U(),A(f,1,1,()=>{f=null}),X())},i(u){w(f)},o(u){A(f)},d(u){u&&p(e),f&&f.d(),r=!1,c()}}}function Al(i,e,l){let{sectionName:t=""}=e,{components:n=[]}=e,{addComponent:s}=e,o=!0;const a=()=>l(3,o=!o),r=f=>s(f.component),c=(f,u)=>{u.key==="Enter"&&s(f.component)};return i.$$set=f=>{"sectionName"in f&&l(0,t=f.sectionName),"components"in f&&l(1,n=f.components),"addComponent"in f&&l(2,s=f.addComponent)},[t,n,s,o,a,r,c]}class Ft extends Se{constructor(e){super(),Ie(this,e,Al,Tl,$e,{sectionName:0,components:1,addComponent:2})}}function it(i,e,l){const t=i.slice();return t[23]=e[l],t}function ot(i,e,l){const t=i.slice();return t[26]=e[l],t}function st(i,e,l){const t=i.slice();return t[29]=e[l],t}function rt(i){let e,l,t,n,s,o,a="expand_more",r,c,f,u,_=i[0]&&at(i);return{c(){e=y("hr"),l=j(),t=y("div"),n=y("h3"),s=te(`Targets
				`),o=y("span"),o.textContent=a,r=j(),_&&_.c(),c=F(),this.h()},l(d){e=D(d,"HR",{}),l=H(d),t=D(d,"DIV",{class:!0});var m=R(t);n=D(m,"H3",{class:!0});var b=R(n);s=le(b,`Targets
				`),o=D(b,"SPAN",{class:!0,"data-svelte-h":!0}),ue(o)!=="svelte-1q4j735"&&(o.textContent=a),b.forEach(p),m.forEach(p),r=H(d),_&&_.l(d),c=F(),this.h()},h(){N(o,"class","icon material-symbols-rounded svelte-117z55l"),ee(o,"expanded",i[0]),N(n,"class","svelte-117z55l"),N(t,"class","comp-modal-header svelte-117z55l")},m(d,m){$(d,e,m),$(d,l,m),$(d,t,m),S(t,n),S(n,s),S(n,o),$(d,r,m),_&&_.m(d,m),$(d,c,m),f||(u=[Y(t,"click",i[11]),Y(t,"keypress",i[12])],f=!0)},p(d,m){m[0]&1&&ee(o,"expanded",d[0]),d[0]?_?(_.p(d,m),m[0]&1&&w(_,1)):(_=at(d),_.c(),w(_,1),_.m(c.parentNode,c)):_&&(U(),A(_,1,1,()=>{_=null}),X())},d(d){d&&(p(e),p(l),p(t),p(r),p(c)),_&&_.d(d),f=!1,me(u)}}}function at(i){let e,l,t,n=ie(i[4]),s=[];for(let o=0;o<n.length;o+=1)s[o]=ft(st(i,n,o));return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0});var a=R(e);for(let r=0;r<s.length;r+=1)s[r].l(a);a.forEach(p),this.h()},h(){N(e,"class","component-section svelte-117z55l")},m(o,a){$(o,e,a);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,a){if(a[0]&272){n=ie(o[4]);let r;for(r=0;r<n.length;r+=1){const c=st(o,n,r);s[r]?s[r].p(c,a):(s[r]=ft(c),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},i(o){t||(o&&he(()=>{t&&(l||(l=re(e,ke,{duration:200},!0)),l.run(1))}),t=!0)},o(o){o&&(l||(l=re(e,ke,{duration:200},!1)),l.run(0)),t=!1},d(o){o&&p(e),we(s,o),o&&l&&l.end()}}}function ql(i){let e=i[29].name+"",l;return{c(){l=te(e)},l(t){l=le(t,e)},m(t,n){$(t,l,n)},p(t,n){n[0]&16&&e!==(e=t[29].name+"")&&se(l,e)},d(t){t&&p(l)}}}function Ml(i){let e,l=i[29].name+"",t;return{c(){e=y("s"),t=te(l)},l(n){e=D(n,"S",{});var s=R(e);t=le(s,l),s.forEach(p)},m(n,s){$(n,e,s),S(e,t)},p(n,s){s[0]&16&&l!==(l=n[29].name+"")&&se(t,l)},d(n){n&&p(e)}}}function ft(i){let e,l,t,n,s;function o(u,_){return _[0]&16&&(l=null),l==null&&(l=!!u[29].component.new().isDeprecated),l?Ml:ql}let a=o(i,[-1,-1]),r=a(i);function c(){return i[13](i[29])}function f(...u){return i[14](i[29],...u)}return{c(){e=y("div"),r.c(),t=j(),this.h()},l(u){e=D(u,"DIV",{class:!0});var _=R(e);r.l(_),t=H(_),_.forEach(p),this.h()},h(){N(e,"class","comp-select")},m(u,_){$(u,e,_),r.m(e,null),S(e,t),n||(s=[Y(e,"click",c),Y(e,"keypress",f)],n=!0)},p(u,_){i=u,a===(a=o(i,_))&&r?r.p(i,_):(r.d(1),r=a(i),r&&(r.c(),r.m(e,t)))},d(u){u&&p(e),r.d(),n=!1,me(s)}}}function ct(i){let e,l,t,n,s,o,a="expand_more",r,c,f,u,_=i[1]&&ut(i);return{c(){e=y("hr"),l=j(),t=y("div"),n=y("h3"),s=te(`Conditions
				`),o=y("span"),o.textContent=a,r=j(),_&&_.c(),c=F(),this.h()},l(d){e=D(d,"HR",{}),l=H(d),t=D(d,"DIV",{class:!0});var m=R(t);n=D(m,"H3",{class:!0});var b=R(n);s=le(b,`Conditions
				`),o=D(b,"SPAN",{class:!0,"data-svelte-h":!0}),ue(o)!=="svelte-10tmqxf"&&(o.textContent=a),b.forEach(p),m.forEach(p),r=H(d),_&&_.l(d),c=F(),this.h()},h(){N(o,"class","icon material-symbols-rounded svelte-117z55l"),ee(o,"expanded",i[1]),N(n,"class","svelte-117z55l"),N(t,"class","comp-modal-header svelte-117z55l")},m(d,m){$(d,e,m),$(d,l,m),$(d,t,m),S(t,n),S(n,s),S(n,o),$(d,r,m),_&&_.m(d,m),$(d,c,m),f||(u=[Y(t,"click",i[15]),Y(t,"keypress",i[16])],f=!0)},p(d,m){m[0]&2&&ee(o,"expanded",d[1]),d[1]?_?(_.p(d,m),m[0]&2&&w(_,1)):(_=ut(d),_.c(),w(_,1),_.m(c.parentNode,c)):_&&(U(),A(_,1,1,()=>{_=null}),X())},d(d){d&&(p(e),p(l),p(t),p(r),p(c)),_&&_.d(d),f=!1,me(u)}}}function ut(i){let e,l,t,n=ie(i[5]),s=[];for(let o=0;o<n.length;o+=1)s[o]=dt(ot(i,n,o));return{c(){e=y("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0});var a=R(e);for(let r=0;r<s.length;r+=1)s[r].l(a);a.forEach(p),this.h()},h(){N(e,"class","component-section svelte-117z55l")},m(o,a){$(o,e,a);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(o,a){if(a[0]&288){n=ie(o[5]);let r;for(r=0;r<n.length;r+=1){const c=ot(o,n,r);s[r]?s[r].p(c,a):(s[r]=dt(c),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},i(o){t||(o&&he(()=>{t&&(l||(l=re(e,ke,{duration:200},!0)),l.run(1))}),t=!0)},o(o){o&&(l||(l=re(e,ke,{duration:200},!1)),l.run(0)),t=!1},d(o){o&&p(e),we(s,o),o&&l&&l.end()}}}function jl(i){let e=i[26].name+"",l;return{c(){l=te(e)},l(t){l=le(t,e)},m(t,n){$(t,l,n)},p(t,n){n[0]&32&&e!==(e=t[26].name+"")&&se(l,e)},d(t){t&&p(l)}}}function Hl(i){let e,l=i[26].name+"",t;return{c(){e=y("s"),t=te(l)},l(n){e=D(n,"S",{});var s=R(e);t=le(s,l),s.forEach(p)},m(n,s){$(n,e,s),S(e,t)},p(n,s){s[0]&32&&l!==(l=n[26].name+"")&&se(t,l)},d(n){n&&p(e)}}}function dt(i){let e,l,t,n,s;function o(u,_){return _[0]&32&&(l=null),l==null&&(l=!!u[26].component.new().isDeprecated),l?Hl:jl}let a=o(i,[-1,-1]),r=a(i);function c(){return i[17](i[26])}function f(...u){return i[18](i[26],...u)}return{c(){e=y("div"),r.c(),t=j(),this.h()},l(u){e=D(u,"DIV",{class:!0});var _=R(e);r.l(_),t=H(_),_.forEach(p),this.h()},h(){N(e,"class","comp-select")},m(u,_){$(u,e,_),r.m(e,null),S(e,t),n||(s=[Y(e,"click",c),Y(e,"keypress",f)],n=!0)},p(u,_){i=u,a===(a=o(i,_))&&r?r.p(i,_):(r.d(1),r=a(i),r&&(r.c(),r.m(e,t)))},d(u){u&&p(e),r.d(),n=!1,me(s)}}}function _t(i){let e,l,t,n,s,o,a="expand_more",r,c,f,u,_,d=i[2]&&pt(i);return{c(){e=y("hr"),l=j(),t=y("div"),n=y("h3"),s=te(`Mechanics
				`),o=y("span"),o.textContent=a,r=j(),d&&d.c(),c=F(),this.h()},l(m){e=D(m,"HR",{}),l=H(m),t=D(m,"DIV",{class:!0});var b=R(t);n=D(b,"H3",{class:!0});var E=R(n);s=le(E,`Mechanics
				`),o=D(E,"SPAN",{class:!0,"data-svelte-h":!0}),ue(o)!=="svelte-1sj4hwu"&&(o.textContent=a),E.forEach(p),b.forEach(p),r=H(m),d&&d.l(m),c=F(),this.h()},h(){N(o,"class","icon material-symbols-rounded svelte-117z55l"),ee(o,"expanded",i[2]),N(n,"class","svelte-117z55l"),N(t,"class","comp-modal-header svelte-117z55l")},m(m,b){$(m,e,b),$(m,l,b),$(m,t,b),S(t,n),S(n,s),S(n,o),$(m,r,b),d&&d.m(m,b),$(m,c,b),f=!0,u||(_=[Y(t,"click",i[19]),Y(t,"keypress",i[20])],u=!0)},p(m,b){(!f||b[0]&4)&&ee(o,"expanded",m[2]),m[2]?d?(d.p(m,b),b[0]&4&&w(d,1)):(d=pt(m),d.c(),w(d,1),d.m(c.parentNode,c)):d&&(U(),A(d,1,1,()=>{d=null}),X())},i(m){f||(w(d),f=!0)},o(m){A(d),f=!1},d(m){m&&(p(e),p(l),p(t),p(r),p(c)),d&&d.d(m),u=!1,me(_)}}}function pt(i){let e,l,t,n=ie(Object.keys(i[7])),s=[];for(let a=0;a<n.length;a+=1)s[a]=ht(it(i,n,a));const o=a=>A(s[a],1,1,()=>{s[a]=null});return{c(){e=y("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=D(a,"DIV",{class:!0});var r=R(e);for(let c=0;c<s.length;c+=1)s[c].l(r);r.forEach(p),this.h()},h(){N(e,"class","component-section svelte-117z55l")},m(a,r){$(a,e,r);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(a,r){if(r[0]&384){n=ie(Object.keys(a[7]));let c;for(c=0;c<n.length;c+=1){const f=it(a,n,c);s[c]?(s[c].p(f,r),w(s[c],1)):(s[c]=ht(f),s[c].c(),w(s[c],1),s[c].m(e,null))}for(U(),c=n.length;c<s.length;c+=1)o(c);X()}},i(a){if(!t){for(let r=0;r<n.length;r+=1)w(s[r]);a&&he(()=>{t&&(l||(l=re(e,ke,{duration:200},!0)),l.run(1))}),t=!0}},o(a){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)A(s[r]);a&&(l||(l=re(e,ke,{duration:200},!1)),l.run(0)),t=!1},d(a){a&&p(e),we(s,a),a&&l&&l.end()}}}function mt(i){let e,l;return e=new Ft({props:{sectionName:i[23],components:i[7][i[23]],addComponent:i[8]}}),{c(){G(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p(t,n){const s={};n[0]&128&&(s.sectionName=t[23]),n[0]&128&&(s.components=t[7][t[23]]),e.$set(s)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function ht(i){let e,l,t=i[7][i[23]].length>0&&mt(i);return{c(){t&&t.c(),e=F()},l(n){t&&t.l(n),e=F()},m(n,s){t&&t.m(n,s),$(n,e,s),l=!0},p(n,s){n[7][n[23]].length>0?t?(t.p(n,s),s[0]&128&&w(t,1)):(t=mt(n),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(U(),A(t,1,1,()=>{t=null}),X())},i(n){l||(w(t),l=!0)},o(n){A(t),l=!1},d(n){n&&p(e),t&&t.d(n)}}}function Ol(i){let e,l,t,n,s="Add a Component",o,a,r,c,f,u,_,d,m,b,E,h="Cancel",T,I,K;function J(g){i[10](g)}let W={placeholder:"Search...",autofocus:!0};i[3]!==void 0&&(W.value=i[3]),r=new Ae({props:W}),oe.push(()=>ae(r,"value",J));let L=i[4].length>0&&rt(i),P=i[5].length>0&&ct(i),M=i[6].length>0&&_t(i);return{c(){e=y("div"),l=y("div"),t=j(),n=y("h2"),n.textContent=s,o=j(),a=y("div"),G(r.$$.fragment),f=j(),L&&L.c(),u=j(),P&&P.c(),_=j(),M&&M.c(),d=j(),m=y("hr"),b=j(),E=y("div"),E.textContent=h,this.h()},l(g){e=D(g,"DIV",{class:!0});var k=R(e);l=D(k,"DIV",{}),R(l).forEach(p),t=H(k),n=D(k,"H2",{"data-svelte-h":!0}),ue(n)!=="svelte-1i8a0iv"&&(n.textContent=s),o=H(k),a=D(k,"DIV",{class:!0});var v=R(a);ne(r.$$.fragment,v),v.forEach(p),k.forEach(p),f=H(g),L&&L.l(g),u=H(g),P&&P.l(g),_=H(g),M&&M.l(g),d=H(g),m=D(g,"HR",{}),b=H(g),E=D(g,"DIV",{class:!0,"data-svelte-h":!0}),ue(E)!=="svelte-4srq3d"&&(E.textContent=h),this.h()},h(){N(a,"class","search-bar"),N(e,"class","modal-header-wrapper"),N(E,"class","cancel")},m(g,k){$(g,e,k),S(e,l),S(e,t),S(e,n),S(e,o),S(e,a),Q(r,a,null),$(g,f,k),L&&L.m(g,k),$(g,u,k),P&&P.m(g,k),$(g,_,k),M&&M.m(g,k),$(g,d,k),$(g,m,k),$(g,b,k),$(g,E,k),T=!0,I||(K=[Y(E,"click",Re),Y(E,"keypress",i[21])],I=!0)},p(g,k){const v={};!c&&k[0]&8&&(c=!0,v.value=g[3],fe(()=>c=!1)),r.$set(v),g[4].length>0?L?L.p(g,k):(L=rt(g),L.c(),L.m(u.parentNode,u)):L&&(L.d(1),L=null),g[5].length>0?P?P.p(g,k):(P=ct(g),P.c(),P.m(_.parentNode,_)):P&&(P.d(1),P=null),g[6].length>0?M?(M.p(g,k),k[0]&64&&w(M,1)):(M=_t(g),M.c(),w(M,1),M.m(d.parentNode,d)):M&&(U(),A(M,1,1,()=>{M=null}),X())},i(g){T||(w(r.$$.fragment,g),w(M),T=!0)},o(g){A(r.$$.fragment,g),A(M),T=!1},d(g){g&&(p(e),p(f),p(u),p(_),p(d),p(m),p(b),p(E)),Z(r),L&&L.d(g),P&&P.d(g),M&&M.d(g),I=!1,me(K)}}}function zl(i){let e,l;return e=new Ke({props:{width:"70%",open:!0,$$slots:{default:[Ol]},$$scope:{ctx:i}}}),e.$on("close",Re),{c(){G(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p(t,n){const s={};n[0]&255|n[1]&2&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function Rl(i,e,l){let t,n,s,o,a;pe(i,Ve,g=>l(3,t=g)),pe(i,ol,g=>l(4,n=g)),pe(i,sl,g=>l(5,s=g)),pe(i,rl,g=>l(6,o=g)),pe(i,al,g=>l(7,a=g));let{data:r}=e,c=!0,f=!0,u=!0;const _=Bt(),d=g=>{r.addComponent(g.new().defaultOpen()),Ve.set(""),_("save"),Re()};function m(g){t=g,Ve.set(t)}const b=()=>l(0,c=!c),E=g=>{g.key==="Enter"&&l(0,c=!c)},h=g=>d(g.component),T=(g,k)=>{k.key==="Enter"&&d(g.component)},I=()=>l(1,f=!f),K=g=>{g.key==="Enter"&&l(1,f=!f)},J=g=>d(g.component),W=(g,k)=>{k.key==="Enter"&&d(g.component)},L=()=>l(2,u=!u),P=g=>{g.key==="Enter"&&l(2,u=!u)},M=g=>{g.key==="Enter"&&Re()};return i.$$set=g=>{"data"in g&&l(9,r=g.data)},[c,f,u,t,n,s,o,a,d,r,m,b,E,h,T,I,K,J,W,L,P,M]}class Bl extends Se{constructor(e){super(),Ie(this,e,Rl,zl,$e,{data:9},null,[-1,-1])}}function vt(i,e,l){const t=i.slice();return t[7]=e[l],t[8]=e,t[9]=l,t}function gt(i){let e,l=i[0].description+"",t;return{c(){e=y("div"),t=te(l),this.h()},l(n){e=D(n,"DIV",{class:!0});var s=R(e);t=le(s,l),s.forEach(p),this.h()},h(){N(e,"class","modal-desc svelte-13h7ryw")},m(n,s){$(n,e,s),S(e,t)},p(n,s){s&1&&l!==(l=n[0].description+"")&&se(t,l)},d(n){n&&p(e)}}}function Kl(i){let e,l,t;function n(o){i[2](o)}let s={};return i[0].enablePreview!==void 0&&(s.data=i[0].enablePreview),e=new wl({props:s}),oe.push(()=>ae(e,"data",n)),{c(){G(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){Q(e,o,a),t=!0},p(o,a){const r={};!l&&a&1&&(l=!0,r.data=o[0].enablePreview,fe(()=>l=!1)),e.$set(r)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){Z(e,o)}}}function bt(i){let e,l,t=ie(i[0].preview),n=[];for(let o=0;o<t.length;o+=1)n[o]=$t(vt(i,t,o));const s=o=>A(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=F()},l(o){for(let a=0;a<n.length;a+=1)n[a].l(o);e=F()},m(o,a){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(o,a);$(o,e,a),l=!0},p(o,a){if(a&1){t=ie(o[0].preview);let r;for(r=0;r<t.length;r+=1){const c=vt(o,t,r);n[r]?(n[r].p(c,a),w(n[r],1)):(n[r]=$t(c),n[r].c(),w(n[r],1),n[r].m(e.parentNode,e))}for(U(),r=t.length;r<n.length;r+=1)s(r);X()}},i(o){if(!l){for(let a=0;a<t.length;a+=1)w(n[a]);l=!0}},o(o){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)A(n[a]);l=!1},d(o){o&&p(e),we(n,o)}}}function kt(i){let e,l,t,n;function s(r){i[3](r,i[7])}var o=i[7].component;function a(r,c){let f={name:r[7].name,tooltip:(r[7].key?"["+r[7].key+"] ":"")+r[7].tooltip,multiple:r[7].multiple};return r[7].data!==void 0&&(f.data=r[7].data),{props:f}}return o&&(e=Oe(o,a(i)),oe.push(()=>ae(e,"data",s)),e.$on("save",i[4])),{c(){e&&G(e.$$.fragment),t=F()},l(r){e&&ne(e.$$.fragment,r),t=F()},m(r,c){e&&Q(e,r,c),$(r,t,c),n=!0},p(r,c){if(i=r,c&1&&o!==(o=i[7].component)){if(e){U();const f=e;A(f.$$.fragment,1,0,()=>{Z(f,1)}),X()}o?(e=Oe(o,a(i)),oe.push(()=>ae(e,"data",s)),e.$on("save",i[4]),G(e.$$.fragment),w(e.$$.fragment,1),Q(e,t.parentNode,t)):e=null}else if(o){const f={};c&1&&(f.name=i[7].name),c&1&&(f.tooltip=(i[7].key?"["+i[7].key+"] ":"")+i[7].tooltip),c&1&&(f.multiple=i[7].multiple),!l&&c&1&&(l=!0,f.data=i[7].data,fe(()=>l=!1)),e.$set(f)}},i(r){n||(e&&w(e.$$.fragment,r),n=!0)},o(r){e&&A(e.$$.fragment,r),n=!1},d(r){r&&p(t),e&&Z(e,r)}}}function $t(i){let e=i[7].meetsPreviewRequirements(i[0]),l,t,n=e&&kt(i);return{c(){n&&n.c(),l=F()},l(s){n&&n.l(s),l=F()},m(s,o){n&&n.m(s,o),$(s,l,o),t=!0},p(s,o){o&1&&(e=s[7].meetsPreviewRequirements(s[0])),e?n?(n.p(s,o),o&1&&w(n,1)):(n=kt(s),n.c(),w(n,1),n.m(l.parentNode,l)):n&&(U(),A(n,1,1,()=>{n=null}),X())},i(s){t||(w(n),t=!0)},o(s){A(n),t=!1},d(s){s&&p(l),n&&n.d(s)}}}function Ll(i){let e,l,t=i[0].name+"",n,s,o,a,r,c,f,u,_,d,m=i[0].description&&gt(i);u=new Ae({props:{label:"Enable Preview",tooltip:"[enabled] Whether this component will show its preview while casting. Requires a compatible casting mode: Item, Bars (hover bar only), Action bar, Title, Subtitle or Chat",$$slots:{default:[Kl]},$$scope:{ctx:i}}});let b=i[0].enablePreview&&bt(i);return{c(){e=y("h2"),l=y("span"),n=te(t),s=te(" - Preview"),o=j(),m&&m.c(),a=j(),r=y("hr"),c=j(),f=y("div"),G(u.$$.fragment),_=j(),b&&b.c(),this.h()},l(E){e=D(E,"H2",{class:!0});var h=R(e);l=D(h,"SPAN",{class:!0});var T=R(l);n=le(T,t),s=le(T," - Preview"),T.forEach(p),h.forEach(p),o=H(E),m&&m.l(E),a=H(E),r=D(E,"HR",{}),c=H(E),f=D(E,"DIV",{class:!0});var I=R(f);ne(u.$$.fragment,I),_=H(I),b&&b.l(I),I.forEach(p),this.h()},h(){N(l,"class","svelte-13h7ryw"),N(e,"class","svelte-13h7ryw"),ee(e,"deprecated",i[0].isDeprecated),N(f,"class","component-entry svelte-13h7ryw")},m(E,h){$(E,e,h),S(e,l),S(l,n),S(l,s),$(E,o,h),m&&m.m(E,h),$(E,a,h),$(E,r,h),$(E,c,h),$(E,f,h),Q(u,f,null),S(f,_),b&&b.m(f,null),d=!0},p(E,h){(!d||h&1)&&t!==(t=E[0].name+"")&&se(n,t),(!d||h&1)&&ee(e,"deprecated",E[0].isDeprecated),E[0].description?m?m.p(E,h):(m=gt(E),m.c(),m.m(a.parentNode,a)):m&&(m.d(1),m=null);const T={};h&1025&&(T.$$scope={dirty:h,ctx:E}),u.$set(T),E[0].enablePreview?b?(b.p(E,h),h&1&&w(b,1)):(b=bt(E),b.c(),w(b,1),b.m(f,null)):b&&(U(),A(b,1,1,()=>{b=null}),X())},i(E){d||(w(u.$$.fragment,E),w(b),d=!0)},o(E){A(u.$$.fragment,E),A(b),d=!1},d(E){E&&(p(e),p(o),p(a),p(r),p(c),p(f)),m&&m.d(E),Z(u),b&&b.d()}}}function Yl(i){let e,l,t;function n(o){i[5](o)}let s={width:"70%",$$slots:{default:[Ll]},$$scope:{ctx:i}};return i[1]!==void 0&&(s.open=i[1]),e=new Ke({props:s}),oe.push(()=>ae(e,"open",n)),e.$on("close",i[6]),{c(){G(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){Q(e,o,a),t=!0},p(o,[a]){const r={};a&1025&&(r.$$scope={dirty:a,ctx:o}),!l&&a&2&&(l=!0,r.open=o[1],fe(()=>l=!1)),e.$set(r)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){Z(e,o)}}}function Wl(i,e,l){let{data:t}=e,n=!0;function s(f){i.$$.not_equal(t.enablePreview,f)&&(t.enablePreview=f,l(0,t))}function o(f,u){i.$$.not_equal(u.data,f)&&(u.data=f,l(0,t))}function a(f){ge.call(this,i,f)}function r(f){n=f,l(1,n)}function c(f){ge.call(this,i,f)}return i.$$set=f=>{"data"in f&&l(0,t=f.data)},i.$$.update=()=>{i.$$.dirty&3&&n&&t&&t.preview.filter(f=>f.dataSource).forEach(f=>f.init())},[t,n,s,o,a,r,c]}class Fl extends Se{constructor(e){super(),Ie(this,e,Wl,Yl,$e,{data:0})}}function wt(i,e,l){const t=i.slice();return t[42]=e[l],t[43]=e,t[44]=l,t}function Ct(i,e,l){const t=i.slice();return t[45]=e[l],t}function Jl(i){let e=i[0].name+"",l;return{c(){l=te(e)},l(t){l=le(t,e)},m(t,n){$(t,l,n)},p(t,n){n[0]&1&&e!==(e=t[0].name+"")&&se(l,e)},d(t){t&&p(l)}}}function Ul(i){let e,l=i[0].name+"",t;return{c(){e=y("s"),t=te(l)},l(n){e=D(n,"S",{});var s=R(e);t=le(s,l),s.forEach(p)},m(n,s){$(n,e,s),S(e,t)},p(n,s){s[0]&1&&l!==(l=n[0].name+"")&&se(t,l)},d(n){n&&p(e)}}}function Xl(i){let e,l="expand_less",t;return{c(){e=y("span"),e.textContent=l,this.h()},l(n){e=D(n,"SPAN",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-1gyqpgo"&&(e.textContent=l),this.h()},h(){N(e,"class","material-symbols-rounded svelte-1v0lr19")},m(n,s){$(n,e,s)},i(n){n&&(t||he(()=>{t=Lt(e,i[21],{duration:400}),t.start()}))},o:Be,d(n){n&&p(e)}}}function Gl(i){let e,l="expand_more",t;return{c(){e=y("span"),e.textContent=l,this.h()},l(n){e=D(n,"SPAN",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-wyjy0w"&&(e.textContent=l),this.h()},h(){N(e,"class","material-symbols-rounded svelte-1v0lr19")},m(n,s){$(n,e,s)},i(n){n&&(t||he(()=>{t=Lt(e,i[21],{duration:400}),t.start()}))},o:Be,d(n){n&&p(e)}}}function Et(i){let e,l=i[13],t=St(i);return{c(){e=y("div"),t.c(),this.h()},l(n){e=D(n,"DIV",{class:!0});var s=R(e);t.l(s),s.forEach(p),this.h()},h(){N(e,"class","summary svelte-1v0lr19")},m(n,s){$(n,e,s),t.m(e,null)},p(n,s){s[0]&8192&&$e(l,l=n[13])?(t.d(1),t=St(n),t.c(),t.m(e,null)):t.p(n,s)},d(n){n&&p(e),t.d(n)}}}function yt(i){let e,l,t=i[45]+"",n,s,o,a,r;function c(_,d){return d[0]&1&&(a=null),a==null&&(a=!!_[45].includes("color")),a?Zl:Ql}let f=c(i,[-1,-1]),u=f(i);return{c(){e=y("span"),l=y("span"),n=te(t),s=te(":"),o=j(),u.c(),r=j(),this.h()},l(_){e=D(_,"SPAN",{class:!0});var d=R(e);l=D(d,"SPAN",{});var m=R(l);n=le(m,t),s=le(m,":"),m.forEach(p),o=H(d),u.l(d),r=H(d),d.forEach(p),this.h()},h(){N(e,"class","summary-item svelte-1v0lr19")},m(_,d){$(_,e,d),S(e,l),S(l,n),S(l,s),S(e,o),u.m(e,null),S(e,r)},p(_,d){d[0]&1&&t!==(t=_[45]+"")&&se(n,t),f===(f=c(_,d))&&u?u.p(_,d):(u.d(1),u=f(_),u&&(u.c(),u.m(e,r)))},d(_){_&&p(e),u.d()}}}function Ql(i){let e=i[0].getValue(i[45])+"",l;return{c(){l=te(e)},l(t){l=le(t,e)},m(t,n){$(t,l,n)},p(t,n){n[0]&1&&e!==(e=t[0].getValue(t[45])+"")&&se(l,e)},d(t){t&&p(l)}}}function Zl(i){let e;return{c(){e=y("span"),this.h()},l(l){e=D(l,"SPAN",{class:!0}),R(e).forEach(p),this.h()},h(){N(e,"class","color-sample svelte-1v0lr19"),Ye(e,"background-color",i[0].getValue(i[45]))},m(l,t){$(l,e,t)},p(l,t){t[0]&1&&Ye(e,"background-color",l[0].getValue(l[45]))},d(l){l&&p(e)}}}function Dt(i){let e=i[0].getValue(i[45]),l,t=e&&yt(i);return{c(){t&&t.c(),l=F()},l(n){t&&t.l(n),l=F()},m(n,s){t&&t.m(n,s),$(n,l,s)},p(n,s){s[0]&1&&(e=n[0].getValue(n[45])),e?t?t.p(n,s):(t=yt(n),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(n){n&&p(l),t&&t.d(n)}}}function St(i){let e,l=ie(i[0].summaryItems),t=[];for(let n=0;n<l.length;n+=1)t[n]=Dt(Ct(i,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=F()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=F()},m(n,s){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(n,s);$(n,e,s)},p(n,s){if(s[0]&1){l=ie(n[0].summaryItems);let o;for(o=0;o<l.length;o+=1){const a=Ct(n,l,o);t[o]?t[o].p(a,s):(t[o]=Dt(a),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&p(e),we(t,n)}}}function It(i){let e,l=i[0].comment+"",t;return{c(){e=y("div"),t=te(l),this.h()},l(n){e=D(n,"DIV",{class:!0});var s=R(e);t=le(s,l),s.forEach(p),this.h()},h(){N(e,"class","comment svelte-1v0lr19")},m(n,s){$(n,e,s),S(e,t)},p(n,s){s[0]&1&&l!==(l=n[0].comment+"")&&se(t,l)},d(n){n&&p(e)}}}function Nt(i){let e,l=(i[0].comment||Mt)&&It(i);return{c(){l&&l.c(),e=F()},l(t){l&&l.l(t),e=F()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[0].comment||Mt?l?l.p(t,n):(l=It(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){t&&p(e),l&&l.d(t)}}}function Pt(i){let e,l,t,n,s,o,a,r,c,f,u,_,d,m=i[0].isParent&&Vt(i),b=i[0].preview&&i[0].preview.length>0&&Tt(i);n=new ze({props:{title:"Clone",icon:"content_copy",color:"white"}}),n.$on("click",i[26]),o=new ze({props:{title:"Delete",icon:"delete",color:"red"}}),o.$on("click",i[29]);const E=[en,xl],h=[];function T(I,K){return I[4].length===0?0:1}return f=T(i),u=h[f]=E[f](i),{c(){e=y("div"),m&&m.c(),l=j(),b&&b.c(),t=j(),G(n.$$.fragment),s=j(),G(o.$$.fragment),r=j(),c=y("div"),u.c(),this.h()},l(I){e=D(I,"DIV",{class:!0});var K=R(e);m&&m.l(K),l=H(K),b&&b.l(K),t=H(K),ne(n.$$.fragment,K),s=H(K),ne(o.$$.fragment,K),K.forEach(p),r=H(I),c=D(I,"DIV",{class:!0});var J=R(c);u.l(J),J.forEach(p),this.h()},h(){N(e,"class","controls svelte-1v0lr19"),N(c,"class","children svelte-1v0lr19")},m(I,K){$(I,e,K),m&&m.m(e,null),S(e,l),b&&b.m(e,null),S(e,t),Q(n,e,null),S(e,s),Q(o,e,null),$(I,r,K),$(I,c,K),h[f].m(c,null),d=!0},p(I,K){I[0].isParent?m?(m.p(I,K),K[0]&1&&w(m,1)):(m=Vt(I),m.c(),w(m,1),m.m(e,l)):m&&(U(),A(m,1,1,()=>{m=null}),X()),I[0].preview&&I[0].preview.length>0?b?(b.p(I,K),K[0]&1&&w(b,1)):(b=Tt(I),b.c(),w(b,1),b.m(e,t)):b&&(U(),A(b,1,1,()=>{b=null}),X());let J=f;f=T(I),f===J?h[f].p(I,K):(U(),A(h[J],1,1,()=>{h[J]=null}),X(),u=h[f],u?u.p(I,K):(u=h[f]=E[f](I),u.c()),w(u,1),u.m(c,null))},i(I){d||(w(m),w(b),w(n.$$.fragment,I),w(o.$$.fragment,I),I&&he(()=>{d&&(a||(a=re(e,be,{},!0)),a.run(1))}),w(u),I&&he(()=>{d&&(_||(_=re(c,be,{},!0)),_.run(1))}),d=!0)},o(I){A(m),A(b),A(n.$$.fragment,I),A(o.$$.fragment,I),I&&(a||(a=re(e,be,{},!1)),a.run(0)),A(u),I&&(_||(_=re(c,be,{},!1)),_.run(0)),d=!1},d(I){I&&(p(e),p(r),p(c)),m&&m.d(),b&&b.d(),Z(n),Z(o),I&&a&&a.end(),h[f].d(),I&&_&&_.end()}}}function Vt(i){let e,l;return e=new ze({props:{title:"Add Component",icon:"add",color:i[20]()}}),e.$on("click",i[17]),{c(){G(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p:Be,i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function Tt(i){let e,l;return e=new ze({props:{title:"Preview Settings",icon:"visibility",color:"gray"}}),e.$on("click",i[18]),{c(){G(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p:Be,i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function xl(i){let e,l=[],t=new Map,n,s=ie(i[4]);const o=a=>a[42].id;for(let a=0;a<s.length;a+=1){let r=wt(i,s,a),c=o(r);t.set(c,l[a]=At(c,r))}return{c(){e=y("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=D(a,"DIV",{class:!0});var r=R(e);for(let c=0;c<l.length;c+=1)l[c].l(r);r.forEach(p),this.h()},h(){N(e,"class","child-wrapper")},m(a,r){$(a,e,r);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);i[35](e),n=!0},p(a,r){r[0]&33554450&&(s=ie(a[4]),U(),l=Yt(l,r,o,1,a,s,t,e,Wt,At,null,wt),X())},i(a){if(!n){for(let r=0;r<s.length;r+=1)w(l[r]);n=!0}},o(a){for(let r=0;r<l.length;r+=1)A(l[r]);n=!1},d(a){a&&p(e);for(let r=0;r<l.length;r+=1)l[r].d();i[35](null)}}}function en(i){let e,l=i[0].isParent&&(i[6]||i[7])&&qt(i);return{c(){l&&l.c(),e=F()},l(t){l&&l.l(t),e=F()},m(t,n){l&&l.m(t,n),$(t,e,n)},p(t,n){t[0].isParent&&(t[6]||t[7])?l?(l.p(t,n),n[0]&193&&w(l,1)):(l=qt(t),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(U(),A(l,1,1,()=>{l=null}),X())},i(t){w(l)},o(t){A(l)},d(t){t&&p(e),l&&l.d(t)}}}function At(i,e){let l,t,n,s,o,a;function r(f){e[32](f,e[42],e[43],e[44])}let c={skill:e[1]};return e[42]!==void 0&&(c.component=e[42]),t=new Jt({props:c}),oe.push(()=>ae(t,"component",r)),t.$on("update",e[33]),t.$on("save",e[34]),t.$on("addskill",e[25]),{key:i,first:null,c(){l=y("span"),G(t.$$.fragment),s=j(),this.h()},l(f){l=D(f,"SPAN",{});var u=R(l);ne(t.$$.fragment,u),s=H(u),u.forEach(p),this.h()},h(){this.first=l},m(f,u){$(f,l,u),Q(t,l,null),S(l,s),a=!0},p(f,u){e=f;const _={};u[0]&2&&(_.skill=e[1]),!n&&u[0]&16&&(n=!0,_.component=e[42],fe(()=>n=!1)),t.$set(_)},i(f){a||(w(t.$$.fragment,f),f&&he(()=>{a&&(o||(o=re(l,be,{},!0)),o.run(1))}),a=!0)},o(f){A(t.$$.fragment,f),f&&(o||(o=re(l,be,{},!1)),o.run(0)),a=!1},d(f){f&&p(l),Z(t),f&&o&&o.end()}}}function qt(i){let e,l,t,n,s;return{c(){e=y("div"),this.h()},l(o){e=D(o,"DIV",{class:!0,role:!0}),R(e).forEach(p),this.h()},h(){N(e,"class","filler svelte-1v0lr19"),N(e,"role","none"),ee(e,"overChildren",i[7])},m(o,a){$(o,e,a),t=!0,n||(s=[Y(e,"dragenter",_e(i[30])),Y(e,"dragover",_e(We(ln))),Y(e,"dragleave",i[23]),Y(e,"drop",_e(We(i[31])))],n=!0)},p(o,a){(!t||a[0]&128)&&ee(e,"overChildren",o[7])},i(o){t||(o&&he(()=>{t&&(l||(l=re(e,be,{},!0)),l.run(1))}),t=!0)},o(o){o&&(l||(l=re(e,be,{},!1)),l.run(0)),t=!1},d(o){o&&p(e),o&&l&&l.end(),n=!1,me(s)}}}function tn(i){let e,l,t,n,s=i[19](i[11])+"",o,a=i[11]?" ":": ",r,c,f,u,_,d,m,b=i[13],E,h,T,I,K,J;function W(q,C){return q[0].isDeprecated?Ul:Jl}let L=W(i),P=L(i);function M(q,C){return q[5]?Gl:Xl}let g=M(i),k=g(i),v=i[12]&&i[0].summaryItems&&i[0].summaryItems.length>0&&Et(i),V=Nt(i),O=!i[5]&&Pt(i);return{c(){e=y("div"),l=y("div"),t=y("div"),n=y("span"),o=te(s),r=te(a),c=j(),P.c(),f=j(),u=y("div"),_=j(),k.c(),d=j(),v&&v.c(),m=j(),V.c(),E=j(),O&&O.c(),this.h()},l(q){e=D(q,"DIV",{class:!0});var C=R(e);l=D(C,"DIV",{draggable:!0,tabindex:!0,role:!0,"aria-selected":!0,class:!0});var B=R(l);t=D(B,"DIV",{class:!0});var x=R(t);n=D(x,"SPAN",{class:!0});var de=R(n);o=le(de,s),de.forEach(p),r=le(x,a),c=H(x),P.l(x),x.forEach(p),f=H(B),u=D(B,"DIV",{class:!0,tabindex:!0,role:!0}),R(u).forEach(p),_=H(B),k.l(B),d=H(B),v&&v.l(B),m=H(B),V.l(B),E=H(B),O&&O.l(B),B.forEach(p),C.forEach(p),this.h()},h(){N(n,"class","svelte-1v0lr19"),N(t,"class","name svelte-1v0lr19"),N(u,"class","corner svelte-1v0lr19"),N(u,"tabindex","0"),N(u,"role","button"),N(l,"draggable","true"),N(l,"tabindex","0"),N(l,"role","treeitem"),N(l,"aria-selected",h=i[10]===i[0]),N(l,"class","comp-body svelte-1v0lr19"),ee(l,"over",i[6]),ee(l,"top",i[8]),ee(l,"bottom",i[9]),ee(l,"dragging",i[10]===i[0]),Ye(l,"--comp-color",i[20]()),N(e,"class","wrapper svelte-1v0lr19")},m(q,C){$(q,e,C),S(e,l),S(l,t),S(t,n),S(n,o),S(t,r),S(t,c),P.m(t,null),S(l,f),S(l,u),S(l,_),k.m(l,null),S(l,d),v&&v.m(l,null),S(l,m),V.m(l,null),S(l,E),O&&O.m(l,null),i[36](l),I=!0,K||(J=[Y(u,"click",_e(i[27])),Y(u,"keypress",_e(i[28])),Y(l,"dragstart",_e(i[37])),Y(l,"dragend",i[38]),Y(l,"drop",_e(i[24])),Y(l,"click",_e(i[16])),Y(l,"keypress",_e(i[39])),Y(l,"dragover",_e(We(i[22]))),Y(l,"dragleave",_e(i[23]))],K=!0)},p(q,C){(!I||C[0]&2048)&&s!==(s=q[19](q[11])+"")&&se(o,s),(!I||C[0]&2048)&&a!==(a=q[11]?" ":": ")&&se(r,a),L===(L=W(q))&&P?P.p(q,C):(P.d(1),P=L(q),P&&(P.c(),P.m(t,null))),g!==(g=M(q))&&(k.d(1),k=g(q),k&&(k.c(),w(k,1),k.m(l,d))),q[12]&&q[0].summaryItems&&q[0].summaryItems.length>0?v?v.p(q,C):(v=Et(q),v.c(),v.m(l,m)):v&&(v.d(1),v=null),C[0]&8192&&$e(b,b=q[13])?(V.d(1),V=Nt(q),V.c(),V.m(l,E)):V.p(q,C),q[5]?O&&(U(),A(O,1,1,()=>{O=null}),X()):O?(O.p(q,C),C[0]&32&&w(O,1)):(O=Pt(q),O.c(),w(O,1),O.m(l,null)),(!I||C[0]&1025&&h!==(h=q[10]===q[0]))&&N(l,"aria-selected",h),(!I||C[0]&64)&&ee(l,"over",q[6]),(!I||C[0]&256)&&ee(l,"top",q[8]),(!I||C[0]&512)&&ee(l,"bottom",q[9]),(!I||C[0]&1025)&&ee(l,"dragging",q[10]===q[0])},i(q){I||(w(k),w(O),T&&T.end(1),I=!0)},o(q){A(O),q&&(T=$l(l,be,{})),I=!1},d(q){q&&p(e),P.d(),k.d(),v&&v.d(),V.d(q),O&&O.d(),i[36](null),q&&T&&T.end(),K=!1,me(J)}}}let Mt=!1;const ln=()=>{};function nn(i,e,l){let t,n,s,o;pe(i,ye,z=>l(10,t=z)),pe(i,fl,z=>l(11,n=z)),pe(i,cl,z=>l(12,s=z));let{skill:a}=e,{component:r}=e,c,f,u=[];const _=He.skills;pe(i,_,z=>l(13,o=z));const d=Bt();let m=!1,b=!1,E=!1,h=!1,T=!1,I;const K=()=>Le(Vl,r),J=()=>Le(Bl,r),W=()=>Le(Fl,r);Kt(()=>{I=r.components.subscribe(z=>l(4,u=z)),r._defaultOpen&&(K(),l(0,r._defaultOpen=!1,r))}),gl(()=>{I&&I()});const L=(z=!1)=>{if(z){if(r instanceof Pe)return"🚩";if(r instanceof je)return"⚠";if(r instanceof Me)return"🎯";if(r instanceof De)return"🔧"}return r instanceof Pe?"Trigger":r instanceof je?"Condition":r instanceof Me?"Target":r instanceof De?"Mechanic":"???"},P=()=>r instanceof Pe?"#0083ef":r instanceof je?"#feac00":r instanceof Me?"#04af38":r instanceof De?"#ff3a3a":"orange",M=(z,{duration:ce})=>({duration:ce,css:ve=>`transform: rotate(${180-dl(ve)*180}deg);`}),g=z=>{if(r==Te(ye)||(l(6,b=!0),r instanceof Pe))return;const ce=c.getBoundingClientRect();l(8,h=z.clientY<ce.height/2+ce.top),l(9,T=z.clientY>=ce.height/2+ce.top)},k=()=>{l(6,b=!1),l(8,h=!1),l(9,T=!1)},v=z=>{(!z.relatedTarget||!(c!=null&&c.contains(z.relatedTarget))||f!=null&&f.contains(z.relatedTarget))&&k()},V=()=>{let z=Te(ye);d("addskill",{comp:z,relativeTo:r,above:h}),k()},O=z=>{let ce=z.detail.comp,ve=z.detail.relativeTo,Ce=z.detail.above,el=u.indexOf(ve);a.removeComponent(ce),r.addComponent(ce,el+(Ce?0:1)),d("save")},q=()=>{const z={};z[`${r.name}-copy`]=r.toYamlObj();const ce=ul.deserializeComponents(z);r.parent?ce.forEach(ve=>{var Ce;return(Ce=r.parent)==null?void 0:Ce.addComponent(ve)}):(ce.forEach(ve=>a.addComponent(ve)),d("update"))},C=()=>l(5,m=!m),B=z=>{z.key==="Enter"&&l(5,m=!m)},x=()=>{a.removeComponent(r),d("update")},de=()=>{l(7,E=!0),l(6,b=!1)},qe=()=>{l(7,E=!1);let z=Te(ye);z&&(a.removeComponent(z),r.addComponent(z))};function Ee(z,ce,ve,Ce){ve[Ce]=z,l(4,u)}function Ne(z){ge.call(this,i,z)}function Ut(z){ge.call(this,i,z)}function Xt(z){oe[z?"unshift":"push"](()=>{f=z,l(3,f)})}function Gt(z){oe[z?"unshift":"push"](()=>{c=z,l(2,c)})}const Qt=()=>ye.set(r),Zt=()=>ye.set(void 0),xt=z=>{z.key};return i.$$set=z=>{"skill"in z&&l(1,a=z.skill),"component"in z&&l(0,r=z.component)},[r,a,c,f,u,m,b,E,h,T,t,n,s,o,_,d,K,J,W,L,P,M,g,v,V,O,q,C,B,x,de,qe,Ee,Ne,Ut,Xt,Gt,Qt,Zt,xt]}class Jt extends Se{constructor(e){super(),Ie(this,e,nn,tn,$e,{skill:1,component:0},null,[-1,-1])}}function jt(i,e,l){const t=i.slice();return t[14]=e[l],t}function Ht(i,e,l){const t=i.slice();return t[17]=e[l],t}function Ot(i,e){let l,t,n;return t=new Jt({props:{skill:e[0],component:e[17]}}),t.$on("update",e[5]),t.$on("save",e[6]),{key:i,first:null,c(){l=y("div"),G(t.$$.fragment),this.h()},l(s){l=D(s,"DIV",{class:!0});var o=R(l);ne(t.$$.fragment,o),o.forEach(p),this.h()},h(){N(l,"class","widget svelte-178l6os"),this.first=l},m(s,o){$(s,l,o),Q(t,l,null),n=!0},p(s,o){e=s;const a={};o&1&&(a.skill=e[0]),o&1&&(a.component=e[17]),t.$set(a)},i(s){n||(w(t.$$.fragment,s),n=!0)},o(s){A(t.$$.fragment,s),n=!1},d(s){s&&p(l),Z(t)}}}function zt(i){let e,l="No triggers added yet.";return{c(){e=y("div"),e.textContent=l},l(t){e=D(t,"DIV",{"data-svelte-h":!0}),ue(e)!=="svelte-ynja2y"&&(e.textContent=l)},m(t,n){$(t,e,n)},d(t){t&&p(e)}}}function Rt(i){let e,l;return e=new Ft({props:{sectionName:i[14],components:i[3][i[14]],addComponent:i[4]}}),{c(){G(e.$$.fragment)},l(t){ne(e.$$.fragment,t)},m(t,n){Q(e,t,n),l=!0},p(t,n){const s={};n&8&&(s.sectionName=t[14]),n&8&&(s.components=t[3][t[14]]),e.$set(s)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){A(e.$$.fragment,t),l=!1},d(t){Z(e,t)}}}function on(i){let e,l,t,n,s="Select New Trigger",o,a,r,c,f,u,_,d,m,b,E,h,T="Cancel",I,K,J;function W(k){i[10](k)}let L={placeholder:"Search...",autofocus:!0};i[2]!==void 0&&(L.value=i[2]),r=new Ae({props:L}),oe.push(()=>ae(r,"value",W));let P=ie(Object.keys(i[3])),M=[];for(let k=0;k<P.length;k+=1)M[k]=Rt(jt(i,P,k));const g=k=>A(M[k],1,1,()=>{M[k]=null});return{c(){e=y("div"),l=y("div"),t=j(),n=y("h2"),n.textContent=s,o=j(),a=y("div"),G(r.$$.fragment),f=j(),u=y("hr"),_=j(),d=y("div");for(let k=0;k<M.length;k+=1)M[k].c();m=j(),b=y("hr"),E=j(),h=y("div"),h.textContent=T,this.h()},l(k){e=D(k,"DIV",{class:!0});var v=R(e);l=D(v,"DIV",{}),R(l).forEach(p),t=H(v),n=D(v,"H2",{class:!0,"data-svelte-h":!0}),ue(n)!=="svelte-d3omqq"&&(n.textContent=s),o=H(v),a=D(v,"DIV",{class:!0});var V=R(a);ne(r.$$.fragment,V),V.forEach(p),v.forEach(p),f=H(k),u=D(k,"HR",{}),_=H(k),d=D(k,"DIV",{class:!0});var O=R(d);for(let q=0;q<M.length;q+=1)M[q].l(O);O.forEach(p),m=H(k),b=D(k,"HR",{}),E=H(k),h=D(k,"DIV",{class:!0,tabindex:!0,role:!0,"data-svelte-h":!0}),ue(h)!=="svelte-6q3xtk"&&(h.textContent=T),this.h()},h(){N(n,"class","modal-header svelte-178l6os"),N(a,"class","search-bar"),N(e,"class","modal-header-wrapper"),N(d,"class","component-section svelte-178l6os"),N(h,"class","cancel"),N(h,"tabindex","0"),N(h,"role","button")},m(k,v){$(k,e,v),S(e,l),S(e,t),S(e,n),S(e,o),S(e,a),Q(r,a,null),$(k,f,v),$(k,u,v),$(k,_,v),$(k,d,v);for(let V=0;V<M.length;V+=1)M[V]&&M[V].m(d,null);$(k,m,v),$(k,b,v),$(k,E,v),$(k,h,v),I=!0,K||(J=[Y(h,"click",i[11]),Y(h,"keypress",i[12])],K=!0)},p(k,v){const V={};if(!c&&v&4&&(c=!0,V.value=k[2],fe(()=>c=!1)),r.$set(V),v&24){P=ie(Object.keys(k[3]));let O;for(O=0;O<P.length;O+=1){const q=jt(k,P,O);M[O]?(M[O].p(q,v),w(M[O],1)):(M[O]=Rt(q),M[O].c(),w(M[O],1),M[O].m(d,null))}for(U(),O=P.length;O<M.length;O+=1)g(O);X()}},i(k){if(!I){w(r.$$.fragment,k);for(let v=0;v<P.length;v+=1)w(M[v]);I=!0}},o(k){A(r.$$.fragment,k),M=M.filter(Boolean);for(let v=0;v<M.length;v+=1)A(M[v]);I=!1},d(k){k&&(p(e),p(f),p(u),p(_),p(d),p(m),p(b),p(E),p(h)),Z(r),we(M,k),K=!1,me(J)}}}function sn(i){let e,l,t,n,s=i[0].name+"",o,a,r,c,f,u,_,d='<span class="material-symbols-rounded">new_label</span>',m,b,E,h,T=[],I=new Map,K,J,W,L,P,M,g;document.title=e="Fabled Dynamic Editor - "+i[0].name;let k=ie(i[0].triggers);const v=C=>C[17].id;for(let C=0;C<k.length;C+=1){let B=Ht(i,k,C),x=v(B);I.set(x,T[C]=Ot(x,B))}let V=i[0].triggers.length===0&&zt();function O(C){i[13](C)}let q={$$slots:{default:[on]},$$scope:{ctx:i}};return i[1]!==void 0&&(q.open=i[1]),W=new Ke({props:q}),oe.push(()=>ae(W,"open",O)),{c(){l=j(),t=y("div"),n=y("h2"),o=te(s),a=j(),r=y("a"),c=te("edit"),u=j(),_=y("span"),_.innerHTML=d,m=j(),b=y("hr"),E=j(),h=y("div");for(let C=0;C<T.length;C+=1)T[C].c();K=j(),V&&V.c(),J=j(),G(W.$$.fragment),this.h()},l(C){bl("svelte-3hdasj",document.head).forEach(p),l=H(C),t=D(C,"DIV",{class:!0});var x=R(t);n=D(x,"H2",{class:!0});var de=R(n);o=le(de,s),a=H(de),r=D(de,"A",{class:!0,title:!0,href:!0});var qe=R(r);c=le(qe,"edit"),qe.forEach(p),u=H(de),_=D(de,"SPAN",{class:!0,title:!0,tabindex:!0,role:!0,"data-svelte-h":!0}),ue(_)!=="svelte-1t4p438"&&(_.innerHTML=d),de.forEach(p),m=H(x),b=D(x,"HR",{}),x.forEach(p),E=H(C),h=D(C,"DIV",{class:!0});var Ee=R(h);for(let Ne=0;Ne<T.length;Ne+=1)T[Ne].l(Ee);K=H(Ee),V&&V.l(Ee),Ee.forEach(p),J=H(C),ne(W.$$.fragment,C),this.h()},h(){N(r,"class","material-symbols-rounded edit-skill chip svelte-178l6os"),N(r,"title","Edit"),N(r,"href",f=Fe+"/skill/"+i[0].name+"/edit"),N(_,"class","add-trigger chip svelte-178l6os"),N(_,"title","Add Trigger"),N(_,"tabindex","0"),N(_,"role","button"),N(n,"class","svelte-178l6os"),N(t,"class","header svelte-178l6os"),N(h,"class","container svelte-178l6os")},m(C,B){$(C,l,B),$(C,t,B),S(t,n),S(n,o),S(n,a),S(n,r),S(r,c),S(n,u),S(n,_),S(t,m),S(t,b),$(C,E,B),$(C,h,B);for(let x=0;x<T.length;x+=1)T[x]&&T[x].m(h,null);S(h,K),V&&V.m(h,null),$(C,J,B),Q(W,C,B),P=!0,M||(g=[Y(_,"click",i[8]),Y(_,"keypress",i[9])],M=!0)},p(C,[B]){(!P||B&1)&&e!==(e="Fabled Dynamic Editor - "+C[0].name)&&(document.title=e),(!P||B&1)&&s!==(s=C[0].name+"")&&se(o,s),(!P||B&1&&f!==(f=Fe+"/skill/"+C[0].name+"/edit"))&&N(r,"href",f),B&97&&(k=ie(C[0].triggers),U(),T=Yt(T,B,v,1,C,k,I,h,Wt,Ot,K,Ht),X()),C[0].triggers.length===0?V||(V=zt(),V.c(),V.m(h,null)):V&&(V.d(1),V=null);const x={};B&1048590&&(x.$$scope={dirty:B,ctx:C}),!L&&B&2&&(L=!0,x.open=C[1],fe(()=>L=!1)),W.$set(x)},i(C){if(!P){for(let B=0;B<k.length;B+=1)w(T[B]);w(W.$$.fragment,C),P=!0}},o(C){for(let B=0;B<T.length;B+=1)A(T[B]);A(W.$$.fragment,C),P=!1},d(C){C&&(p(l),p(t),p(E),p(h),p(J));for(let B=0;B<T.length;B+=1)T[B].d();V&&V.d(),Z(W,C),M=!1,me(g)}}}function rn(i,e,l){let t,n;pe(i,Ve,h=>l(2,t=h)),pe(i,_l,h=>l(3,n=h));let{data:s}=e,o,a=!1;Kt(()=>{let h;h=pl.subscribe(T=>{T&&(h&&h(),c())})});const r=h=>{o.triggers.push(h.new().defaultOpen()),c(),setTimeout(()=>l(1,a=!1))},c=()=>{l(0,o.triggers=[...o.triggers],o),f()},f=()=>{He.skills.set([...Te(He.skills)]),o.save()},u=()=>l(1,a=!0),_=h=>h.key==="Enter"&&l(1,a=!0);function d(h){t=h,Ve.set(t)}const m=()=>l(1,a=!1),b=h=>h.key==="Enter"&&l(1,a=!1);function E(h){a=h,l(1,a)}return i.$$set=h=>{"data"in h&&l(7,s=h.data)},i.$$.update=()=>{i.$$.dirty&128&&s&&l(0,o=s.data)},[o,a,t,n,r,c,f,s,u,_,d,m,b,E]}class hn extends Se{constructor(e){super(),Ie(this,e,rn,sn,$e,{data:7})}}export{hn as component,mn as universal};
