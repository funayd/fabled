var at=Object.defineProperty;var st=(i,s,t)=>s in i?at(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t;var c=(i,s,t)=>(st(i,typeof s!="symbol"?s+"":s,t),t);import{s as I,q as F,i as H,S as nt,f as _,U as Y,V as it,e as j,c as K,b as z,o as C,u as L,h as Q,W as ot,X as rt,Y as lt,Z as ct,C as T,Q as $,v,R as y}from"./scheduler.DiZXyGup.js";import{S as M,i as P,a as m,g as ut,t as p,c as dt,h as w,b as q,d as E,m as O,e as R,f as D}from"./index.hgMStIFP.js";import{c as ft,f as U,a as W,P as J,S as ht,T as mt}from"./Toggle.1A9MgpZf.js";import{P as A,R as V,Y as g}from"./store.1se5U6lT.js";import{w as b}from"./entry.hDHEIHQP.js";function X(i){let s,t,e,a,n,r,u,d;const h=i[5].default,o=it(h,i,i[4],null);return{c(){s=j("div"),t=j("div"),e=j("div"),o&&o.c(),this.h()},l(l){s=K(l,"DIV",{class:!0});var f=z(s);t=K(f,"DIV",{class:!0});var N=z(t);e=K(N,"DIV",{class:!0});var B=z(e);o&&o.l(B),B.forEach(_),N.forEach(_),f.forEach(_),this.h()},h(){C(e,"class","wrapper svelte-sv0lqh"),C(t,"class","modal-content svelte-sv0lqh"),L(t,"--width",i[1]),C(s,"class","backdrop svelte-sv0lqh")},m(l,f){H(l,s,f),Q(s,t),Q(t,e),o&&o.m(e,null),r=!0,u||(d=ot(ft.call(null,t,i[2])),u=!0)},p(l,f){o&&o.p&&(!r||f&16)&&rt(o,h,l,l[4],r?ct(h,l[4],f,null):lt(l[4]),null),f&2&&L(t,"--width",l[1])},i(l){r||(m(o,l),l&&T(()=>{r&&(a||(a=w(t,U,{y:-200},!0)),a.run(1))}),l&&T(()=>{r&&(n||(n=w(s,W,{},!0)),n.run(1))}),r=!0)},o(l){p(o,l),l&&(a||(a=w(t,U,{y:-200},!1)),a.run(0)),l&&(n||(n=w(s,W,{},!1)),n.run(0)),r=!1},d(l){l&&_(s),o&&o.d(l),l&&a&&a.end(),l&&n&&n.end(),u=!1,d()}}}function pt(i){let s,t,e,a,n=i[0]&&X(i);return{c(){n&&n.c(),s=F()},l(r){n&&n.l(r),s=F()},m(r,u){n&&n.m(r,u),H(r,s,u),t=!0,e||(a=nt(window,"keyup",i[3]),e=!0)},p(r,[u]){r[0]?n?(n.p(r,u),u&1&&m(n,1)):(n=X(r),n.c(),m(n,1),n.m(s.parentNode,s)):n&&(ut(),p(n,1,1,()=>{n=null}),dt())},i(r){t||(m(n),t=!0)},o(r){p(n),t=!1},d(r){r&&_(s),n&&n.d(r),e=!1,a()}}}function gt(i,s,t){let{$$slots:e={},$$scope:a}=s,{width:n="auto"}=s,{open:r=!1}=s;const u=Y(),d=o=>{t(0,r=!1),u("close"),o==null||o.stopPropagation()},h=o=>{o.key=="Escape"&&(o.preventDefault(),o.stopPropagation(),d())};return i.$$set=o=>{"width"in o&&t(1,n=o.width),"open"in o&&t(0,r=o.open),"$$scope"in o&&t(4,a=o.$$scope)},[r,n,d,h,a,e]}class zt extends M{constructor(s){super(),P(this,s,gt,pt,I,{width:1,open:0})}}class Ct extends A{constructor(t,e=!1,a=!1){super("mechanic",t);c(this,"iconKey","");c(this,"countsAsCast",!0);this.isParent=e,this.isDeprecated=a}toYamlObj(){const t=super.toYamlObj(),e=this.getData();e.getKeys().length>0&&t.put("data",e);const a=$(this.components);return a.length>0&&t.put("children",a),t}getData(){const t=new g("data");return t.put("icon-key",this.iconKey),t.put("counts",this.countsAsCast),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const a=e.getData();Object.keys(a).forEach(n=>t.put(n,a[n]))}),t}getRawData(){const t=new g("data");return this.data.forEach(e=>{const a=e.getData();Object.keys(a).forEach(n=>t.put(n,a[n]))}),t}deserialize(t){super.deserialize(t);const e=t.get("data");e&&this.data.forEach(a=>a.deserialize(e)),this.iconKey=e.get("icon-key",""),this.countsAsCast=e.get("counts",!0),this.setComponents(t.get("children",[],a=>V.deserializeComponents(a)))}}class _t{constructor(){c(this,"requirements",{});c(this,"requireValue",(s,t)=>(this.requirements[s]=t,this));c(this,"meetsRequirements",s=>{for(const t in this.requirements)if(!this.requirements[t].includes(s.getRawData().get(t)))return!1;return!0});c(this,"meetsPreviewRequirements",s=>{for(const t in this.requirements)if(!this.requirements[t].includes(s.getRawPreviewData().get(t)))return!1;return!0})}}const k=class k extends A{constructor(t,e=!1){super("condition",t);c(this,"iconKey","");this.isDeprecated=e}toYamlObj(){const t=super.toYamlObj(),e=this.getData();e.getKeys().length>0&&t.put("data",e);const a=$(this.components);return a.length>0&&t.put("children",a),t}getData(){const t=new g("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const a=e.getData();Object.keys(a).forEach(n=>t.put(n,a[n]))}),t}getRawData(){const t=new g("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const a=e.getData();Object.keys(a).forEach(n=>t.put(n,a[n]))}),t}deserialize(t){super.deserialize(t);const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(a=>a.deserialize(e)),this.setComponents(t.get("children",[],a=>V.deserializeComponents(a)))}};c(k,"new",()=>new k({name:"null"}));let Z=k;function bt(i){let s,t,e,a,n;function r(o){i[3](o)}function u(o){i[4](o)}function d(o){i[5](o)}let h={};return i[0].selected!==void 0&&(h.selected=i[0].selected),i[0].value!==void 0&&(h.data=i[0].value),i[0].multiple!==void 0&&(h.multiple=i[0].multiple),s=new ht({props:h}),v.push(()=>D(s,"selected",r)),v.push(()=>D(s,"data",u)),v.push(()=>D(s,"multiple",d)),{c(){q(s.$$.fragment)},l(o){E(s.$$.fragment,o)},m(o,l){O(s,o,l),n=!0},p(o,l){const f={};!t&&l&1&&(t=!0,f.selected=o[0].selected,y(()=>t=!1)),!e&&l&1&&(e=!0,f.data=o[0].value,y(()=>e=!1)),!a&&l&1&&(a=!0,f.multiple=o[0].multiple,y(()=>a=!1)),s.$set(f)},i(o){n||(m(s.$$.fragment,o),n=!0)},o(o){p(s.$$.fragment,o),n=!1},d(o){R(s,o)}}}function wt(i){let s,t;return s=new J({props:{label:i[1],tooltip:i[2],$$slots:{default:[bt]},$$scope:{ctx:i}}}),{c(){q(s.$$.fragment)},l(e){E(s.$$.fragment,e)},m(e,a){O(s,e,a),t=!0},p(e,[a]){const n={};a&2&&(n.label=e[1]),a&4&&(n.tooltip=e[2]),a&129&&(n.$$scope={dirty:a,ctx:e}),s.$set(n)},i(e){t||(m(s.$$.fragment,e),t=!0)},o(e){p(s.$$.fragment,e),t=!1},d(e){R(s,e)}}}function vt(i,s,t){let{data:e}=s,{name:a=""}=s,{tooltip:n=void 0}=s;const r=Y();function u(o){i.$$.not_equal(e.selected,o)&&(e.selected=o,t(0,e))}function d(o){i.$$.not_equal(e.value,o)&&(e.value=o,t(0,e))}function h(o){i.$$.not_equal(e.multiple,o)&&(e.multiple=o,t(0,e))}return i.$$set=o=>{"data"in o&&t(0,e=o.data),"name"in o&&t(1,a=o.name),"tooltip"in o&&t(2,n=o.tooltip)},i.$$.update=()=>{i.$$.dirty&1&&e&&r("save")},[e,a,n,u,d,h]}class yt extends M{constructor(s){super(),P(this,s,vt,wt,I,{data:0,name:1,tooltip:2})}}class x extends _t{constructor(t,e,a,n,r=!1){super();c(this,"component",yt);c(this,"dataSource");c(this,"data",{selected:"",value:[],multiple:!1});c(this,"name","");c(this,"key","");c(this,"tooltip");c(this,"init",()=>{this.dataSource&&(this.data.value=this.dataSource()),!this.data.selected&&this.data.value.length>0&&!this.data.multiple&&(this.data.selected=this.data.value[0])});c(this,"setTooltip",t=>(this.tooltip=t,this));c(this,"clone",()=>new x(this.name,this.key,[...this.data.value],this.data.selected));c(this,"getData",()=>{const t={};return t[this.key]=this.data.selected,t});c(this,"getSummary",()=>this.data.selected instanceof Array?this.data.selected.join(", "):this.data.selected);c(this,"deserialize",t=>this.data.selected=t.get(this.key));this.name=t,this.key=e,typeof a=="function"?this.dataSource=a:this.data.value=a,r&&(this.data.selected=[]),n&&(this.data.selected=n),this.data.multiple=r}}const S=class S extends A{constructor(t,e=!1){super("target",t);c(this,"iconKey","");super.isDeprecated=e}toYamlObj(){const t=super.toYamlObj(),e=this.getData();e.getKeys().length>0&&t.put("data",e);const a=$(this.components);return a.length>0&&t.put("children",a),t}getData(){const t=new g("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const a=e.getData();Object.keys(a).forEach(n=>t.put(n,a[n]))}),t}getRawData(){const t=new g("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const a=e.getData();Object.keys(a).forEach(n=>t.put(n,a[n]))}),t}deserialize(t){super.deserialize(t);const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(a=>a.deserialize(e)),this.setComponents(t.get("children",[],a=>V.deserializeComponents(a)))}};c(S,"new",()=>new S({name:"null"}));let G=S;function Dt(i){let s,t,e;function a(r){i[3](r)}let n={};return i[0]!==void 0&&(n.data=i[0]),s=new mt({props:n}),v.push(()=>D(s,"data",a)),{c(){q(s.$$.fragment)},l(r){E(s.$$.fragment,r)},m(r,u){O(s,r,u),e=!0},p(r,u){const d={};!t&&u&1&&(t=!0,d.data=r[0],y(()=>t=!1)),s.$set(d)},i(r){e||(m(s.$$.fragment,r),e=!0)},o(r){p(s.$$.fragment,r),e=!1},d(r){R(s,r)}}}function kt(i){let s,t;return s=new J({props:{label:i[1],tooltip:i[2],$$slots:{default:[Dt]},$$scope:{ctx:i}}}),{c(){q(s.$$.fragment)},l(e){E(s.$$.fragment,e)},m(e,a){O(s,e,a),t=!0},p(e,[a]){const n={};a&2&&(n.label=e[1]),a&4&&(n.tooltip=e[2]),a&33&&(n.$$scope={dirty:a,ctx:e}),s.$set(n)},i(e){t||(m(s.$$.fragment,e),t=!0)},o(e){p(s.$$.fragment,e),t=!1},d(e){R(s,e)}}}function St(i,s,t){let{data:e}=s,{name:a=""}=s,{tooltip:n=void 0}=s;const r=Y();function u(d){e=d,t(0,e)}return i.$$set=d=>{"data"in d&&t(0,e=d.data),"name"in d&&t(1,a=d.name),"tooltip"in d&&t(2,n=d.tooltip)},i.$$.update=()=>{i.$$.dirty&1&&(e||!e)&&r("save")},[e,a,n,u]}class It extends M{constructor(s){super(),P(this,s,St,kt,I,{data:0,name:1,tooltip:2})}}const Yt=(()=>{let i=!0;{const a=localStorage.getItem("show-summary-items");i=a!==null?a==="true":i}const{subscribe:s,set:t,update:e}=b(i);return{subscribe:s,set:a=>(localStorage.setItem("show-summary-items",String(a)),t(a)),update:e}})(),$t=(()=>{let i=!0;i=localStorage.getItem("use-symbols")==="true";const{subscribe:s,set:t,update:e}=b(i);return{subscribe:s,set:a=>(localStorage.setItem("use-symbols",String(a)),t(a)),update:e}})(),Mt=(()=>{let i=!0;{const a=localStorage.getItem("animation-enabled");i=a!==null?a==="true":i}const{subscribe:s,set:t,update:e}=b(i);return{subscribe:s,set:a=>(localStorage.setItem("animation-enabled",String(a)),t(a)),update:e}})(),Pt=(i,{delay:s=0,duration:t=500}={})=>{const a=getComputedStyle(i).width.match(/([\d.]+)(.*)/);if(!a)return{delay:s,duration:t,css:r=>`max-width: unset; width: ${r*100}%;`};const n=Number.parseFloat(a[1]);return{delay:s,duration:t,css:r=>`max-width: unset; width: ${r*n}${a[2]}; min-width: unset;`}},At=(i,{delay:s=0,duration:t=500})=>{const a=getComputedStyle(i).height.match(/([\d.]+)(.*)/);if(!a)return{delay:s,duration:t,css:r=>`max-height: unset; height: ${r*100}%;`};const n=Number.parseFloat(a[1]);return{delay:s,duration:t,css:r=>`max-height: unset; height: ${r*n}${a[2]}; min-height: unset;`}},tt=b(void 0),et=b(void 0),Vt=(i,s)=>{tt.set(i),s&&et.set(s)},Nt=()=>{tt.set(void 0),et.set(void 0)};export{It as B,x as D,zt as M,Ct as P,_t as R,G as a,Z as b,Nt as c,Yt as d,Mt as e,Pt as f,tt as g,et as m,Vt as o,At as s,$t as u};
