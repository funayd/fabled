import{s as C,e as V,i as J,w as x,d as g,F as z,G as tt,f as E,g as O,h as j,j as K,k as B,u as F,O as et,J as at,K as st,L as nt,M as N,B as R,p as w,E as y}from"./scheduler.ffkzYN6j.js";import{S as I,i as P,a as h,g as it,t as m,c as ot,k as b,b as D,d as k,m as S,e as q,f as v}from"./index.4HTg-uC5.js";import{c as rt,f as T,a as L,P as Z,S as lt,T as ct}from"./Toggle.-xnLO5Tx.js";import{a0 as M,Z as $,_ as p}from"./store.z1FnH6uz.js";import{w as _}from"./singletons.V4nJ9mf5.js";function G(n){let t,a,e,s,i,r,c,u;const f=n[5].default,o=tt(f,n,n[4],null);return{c(){t=E("div"),a=E("div"),e=E("div"),o&&o.c(),this.h()},l(l){t=O(l,"DIV",{class:!0});var d=j(t);a=O(d,"DIV",{class:!0});var Y=j(a);e=O(Y,"DIV",{class:!0});var A=j(e);o&&o.l(A),A.forEach(g),Y.forEach(g),d.forEach(g),this.h()},h(){K(e,"class","wrapper svelte-sv0lqh"),K(a,"class","modal-content svelte-sv0lqh"),B(a,"--width",n[1]),K(t,"class","backdrop svelte-sv0lqh")},m(l,d){J(l,t,d),F(t,a),F(a,e),o&&o.m(e,null),r=!0,c||(u=et(rt.call(null,a,n[2])),c=!0)},p(l,d){o&&o.p&&(!r||d&16)&&at(o,f,l,l[4],r?nt(f,l[4],d,null):st(l[4]),null),d&2&&B(a,"--width",l[1])},i(l){r||(h(o,l),l&&N(()=>{r&&(s||(s=b(a,T,{y:-200},!0)),s.run(1))}),l&&N(()=>{r&&(i||(i=b(t,L,{},!0)),i.run(1))}),r=!0)},o(l){m(o,l),l&&(s||(s=b(a,T,{y:-200},!1)),s.run(0)),l&&(i||(i=b(t,L,{},!1)),i.run(0)),r=!1},d(l){l&&g(t),o&&o.d(l),l&&s&&s.end(),l&&i&&i.end(),c=!1,u()}}}function ut(n){let t,a,e,s,i=n[0]&&G(n);return{c(){i&&i.c(),t=V()},l(r){i&&i.l(r),t=V()},m(r,c){i&&i.m(r,c),J(r,t,c),a=!0,e||(s=x(window,"keyup",n[3]),e=!0)},p(r,[c]){r[0]?i?(i.p(r,c),c&1&&h(i,1)):(i=G(r),i.c(),h(i,1),i.m(t.parentNode,t)):i&&(it(),m(i,1,1,()=>{i=null}),ot())},i(r){a||(h(i),a=!0)},o(r){m(i),a=!1},d(r){r&&g(t),i&&i.d(r),e=!1,s()}}}function dt(n,t,a){let{$$slots:e={},$$scope:s}=t,{width:i="auto"}=t,{open:r=!1}=t;const c=z(),u=o=>{a(0,r=!1),c("close"),o?.stopPropagation()},f=o=>{o.key=="Escape"&&(o.preventDefault(),o.stopPropagation(),u())};return n.$$set=o=>{"width"in o&&a(1,i=o.width),"open"in o&&a(0,r=o.open),"$$scope"in o&&a(4,s=o.$$scope)},[r,i,u,f,s,e]}class qt extends I{constructor(t){super(),P(this,t,dt,ut,C,{width:1,open:0})}}class Et extends M{iconKey="";countsAsCast=!0;constructor(t,a=!1,e=!1){super("mechanic",t),this.isParent=a,this.isDeprecated=e}toYamlObj(){const t=super.toYamlObj(),a=this.getData();a.getKeys().length>0&&t.put("data",a);const e=R(this.components);return e.length>0&&t.put("children",e),t}getData(){const t=new p("data");return t.put("icon-key",this.iconKey),t.put("counts",this.countsAsCast),this.data.filter(a=>a.meetsRequirements(this)).forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}getRawData(){const t=new p("data");return this.data.forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}deserialize(t){super.deserialize(t);const a=t.get("data");a&&this.data.forEach(e=>e.deserialize(a)),this.iconKey=a.get("icon-key",""),this.countsAsCast=a.get("counts",!0),this.setComponents(t.get("children",[],e=>$.deserializeComponents(e)))}}class ft{requirements={};requireValue=(t,a)=>(this.requirements[t]=a,this);meetsRequirements=t=>{for(const a in this.requirements)if(!this.requirements[a].includes(t.getRawData().get(a)))return!1;return!0};meetsPreviewRequirements=t=>{for(const a in this.requirements)if(!this.requirements[a].includes(t.getRawPreviewData().get(a)))return!1;return!0}}class H extends M{iconKey="";constructor(t,a=!1){super("condition",t),this.isDeprecated=a}toYamlObj(){const t=super.toYamlObj(),a=this.getData();a.getKeys().length>0&&t.put("data",a);const e=R(this.components);return e.length>0&&t.put("children",e),t}getData(){const t=new p("data");return t.put("icon-key",this.iconKey),this.data.filter(a=>a.meetsRequirements(this)).forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}getRawData(){const t=new p("data");return t.put("icon-key",this.iconKey),this.data.forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}deserialize(t){super.deserialize(t);const a=t.get("data");this.iconKey=a.get("icon-key"),a&&this.data.forEach(e=>e.deserialize(a)),this.setComponents(t.get("children",[],e=>$.deserializeComponents(e)))}static new=()=>new H({name:"null"})}function ht(n){let t,a,e,s,i;function r(o){n[3](o)}function c(o){n[4](o)}function u(o){n[5](o)}let f={};return n[0].selected!==void 0&&(f.selected=n[0].selected),n[0].value!==void 0&&(f.data=n[0].value),n[0].multiple!==void 0&&(f.multiple=n[0].multiple),t=new lt({props:f}),w.push(()=>v(t,"selected",r)),w.push(()=>v(t,"data",c)),w.push(()=>v(t,"multiple",u)),{c(){D(t.$$.fragment)},l(o){k(t.$$.fragment,o)},m(o,l){S(t,o,l),i=!0},p(o,l){const d={};!a&&l&1&&(a=!0,d.selected=o[0].selected,y(()=>a=!1)),!e&&l&1&&(e=!0,d.data=o[0].value,y(()=>e=!1)),!s&&l&1&&(s=!0,d.multiple=o[0].multiple,y(()=>s=!1)),t.$set(d)},i(o){i||(h(t.$$.fragment,o),i=!0)},o(o){m(t.$$.fragment,o),i=!1},d(o){q(t,o)}}}function mt(n){let t,a;return t=new Z({props:{label:n[1],tooltip:n[2],$$slots:{default:[ht]},$$scope:{ctx:n}}}),{c(){D(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,s){S(t,e,s),a=!0},p(e,[s]){const i={};s&2&&(i.label=e[1]),s&4&&(i.tooltip=e[2]),s&129&&(i.$$scope={dirty:s,ctx:e}),t.$set(i)},i(e){a||(h(t.$$.fragment,e),a=!0)},o(e){m(t.$$.fragment,e),a=!1},d(e){q(t,e)}}}function pt(n,t,a){let{data:e}=t,{name:s=""}=t,{tooltip:i=void 0}=t;const r=z();function c(o){n.$$.not_equal(e.selected,o)&&(e.selected=o,a(0,e))}function u(o){n.$$.not_equal(e.value,o)&&(e.value=o,a(0,e))}function f(o){n.$$.not_equal(e.multiple,o)&&(e.multiple=o,a(0,e))}return n.$$set=o=>{"data"in o&&a(0,e=o.data),"name"in o&&a(1,s=o.name),"tooltip"in o&&a(2,i=o.tooltip)},n.$$.update=()=>{n.$$.dirty&1&&e&&r("save")},[e,s,i,c,u,f]}class gt extends I{constructor(t){super(),P(this,t,pt,mt,C,{data:0,name:1,tooltip:2})}}class Q extends ft{component=gt;dataSource;data={selected:"",value:[],multiple:!1};name="";key="";tooltip=void 0;constructor(t,a,e,s,i=!1){super(),this.name=t,this.key=a,typeof e=="function"?this.dataSource=e:this.data.value=e,i&&(this.data.selected=[]),s&&(this.data.selected=s),this.data.multiple=i}init=()=>{this.dataSource&&(this.data.value=this.dataSource()),!this.data.selected&&this.data.value.length>0&&!this.data.multiple&&(this.data.selected=this.data.value[0])};setTooltip=t=>(this.tooltip=t,this);clone=()=>new Q(this.name,this.key,[...this.data.value],this.data.selected);getData=()=>{const t={};return t[this.key]=this.data.selected,t};getSummary=()=>this.data.selected instanceof Array?this.data.selected.join(", "):this.data.selected;deserialize=t=>this.data.selected=t.get(this.key)}class U extends M{iconKey="";constructor(t,a=!1){super("target",t),super.isDeprecated=a}toYamlObj(){const t=super.toYamlObj(),a=this.getData();a.getKeys().length>0&&t.put("data",a);const e=R(this.components);return e.length>0&&t.put("children",e),t}getData(){const t=new p("data");return t.put("icon-key",this.iconKey),this.data.filter(a=>a.meetsRequirements(this)).forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}getRawData(){const t=new p("data");return t.put("icon-key",this.iconKey),this.data.forEach(a=>{const e=a.getData();Object.keys(e).forEach(s=>t.put(s,e[s]))}),t}deserialize(t){super.deserialize(t);const a=t.get("data");this.iconKey=a.get("icon-key"),a&&this.data.forEach(e=>e.deserialize(a)),this.setComponents(t.get("children",[],e=>$.deserializeComponents(e)))}static new=()=>new U({name:"null"})}function _t(n){let t,a,e;function s(r){n[3](r)}let i={};return n[0]!==void 0&&(i.data=n[0]),t=new ct({props:i}),w.push(()=>v(t,"data",s)),{c(){D(t.$$.fragment)},l(r){k(t.$$.fragment,r)},m(r,c){S(t,r,c),e=!0},p(r,c){const u={};!a&&c&1&&(a=!0,u.data=r[0],y(()=>a=!1)),t.$set(u)},i(r){e||(h(t.$$.fragment,r),e=!0)},o(r){m(t.$$.fragment,r),e=!1},d(r){q(t,r)}}}function bt(n){let t,a;return t=new Z({props:{label:n[1],tooltip:n[2],$$slots:{default:[_t]},$$scope:{ctx:n}}}),{c(){D(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,s){S(t,e,s),a=!0},p(e,[s]){const i={};s&2&&(i.label=e[1]),s&4&&(i.tooltip=e[2]),s&33&&(i.$$scope={dirty:s,ctx:e}),t.$set(i)},i(e){a||(h(t.$$.fragment,e),a=!0)},o(e){m(t.$$.fragment,e),a=!1},d(e){q(t,e)}}}function wt(n,t,a){let{data:e}=t,{name:s=""}=t,{tooltip:i=void 0}=t;const r=z();function c(u){e=u,a(0,e)}return n.$$set=u=>{"data"in u&&a(0,e=u.data),"name"in u&&a(1,s=u.name),"tooltip"in u&&a(2,i=u.tooltip)},n.$$.update=()=>{n.$$.dirty&1&&(e||!e)&&r("save")},[e,s,i,c]}class Ot extends I{constructor(t){super(),P(this,t,wt,bt,C,{data:0,name:1,tooltip:2})}}const jt=(()=>{let n=!0;{const s=localStorage.getItem("show-summary-items");n=s!==null?s==="true":n}const{subscribe:t,set:a,update:e}=_(n);return{subscribe:t,set:s=>(localStorage.setItem("show-summary-items",String(s)),a(s)),update:e}})(),Kt=(()=>{let n=!0;n=localStorage.getItem("use-symbols")==="true";const{subscribe:t,set:a,update:e}=_(n);return{subscribe:t,set:s=>(localStorage.setItem("use-symbols",String(s)),a(s)),update:e}})(),Ct=(()=>{let n=!0;{const s=localStorage.getItem("animation-enabled");n=s!==null?s==="true":n}const{subscribe:t,set:a,update:e}=_(n);return{subscribe:t,set:s=>(localStorage.setItem("animation-enabled",String(s)),a(s)),update:e}})(),zt=(n,{delay:t=0,duration:a=500}={})=>{const s=getComputedStyle(n).width.match(/([\d.]+)(.*)/);if(!s)return{delay:t,duration:a,css:r=>`max-width: unset; width: ${r*100}%;`};const i=Number.parseFloat(s[1]);return{delay:t,duration:a,css:r=>`max-width: unset; width: ${r*i}${s[2]}; min-width: unset;`}},Rt=(n,{delay:t=0,duration:a=500})=>{const s=getComputedStyle(n).height.match(/([\d.]+)(.*)/);if(!s)return{delay:t,duration:a,css:r=>`max-height: unset; height: ${r*100}%;`};const i=Number.parseFloat(s[1]);return{delay:t,duration:a,css:r=>`max-height: unset; height: ${r*i}${s[2]}; min-height: unset;`}},W=_(void 0),X=_(void 0),It=(n,t)=>{W.set(n),t&&X.set(t)},Pt=()=>{W.set(void 0),X.set(void 0)};export{Ot as B,Q as D,qt as M,U as P,ft as R,H as a,Et as b,Ct as c,jt as d,Pt as e,W as f,Rt as g,X as m,It as o,zt as s,Kt as u};
