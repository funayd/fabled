import{s as q,e as C,i as A,w as k,d as p,E as N,F as B,f as w,g as v,h as y,j as D,k as z,u as I,P as G,H as Q,J as T,K as U,L as W,M,x as X,N as x,A as E,p as $,D as tt}from"./scheduler.094yGyYV.js";import{S as F,i as V,a as m,g as et,t as b,c as st,k as _,f as at,b as nt,d as it,m as ot,e as rt}from"./index.Fsxk9AdB.js";import{c as ct,f as P,a as Y,P as lt}from"./Toggle.mFUlCo5m.js";import{$ as S,Z as K,Y as f}from"./store.LLkebHnC.js";import{w as g}from"./singletons.VgU2Bx9y.js";function R(i){let t,e,s,a,o,n,c,l;const h=i[5].default,u=B(h,i,i[4],null);return{c(){t=w("div"),e=w("div"),s=w("div"),u&&u.c(),this.h()},l(r){t=v(r,"DIV",{class:!0});var d=y(t);e=v(d,"DIV",{class:!0});var O=y(e);s=v(O,"DIV",{class:!0});var j=y(s);u&&u.l(j),j.forEach(p),O.forEach(p),d.forEach(p),this.h()},h(){D(s,"class","wrapper svelte-75vve5"),D(e,"class","modal-content svelte-75vve5"),z(e,"--width",i[1]),D(t,"class","backdrop svelte-75vve5")},m(r,d){A(r,t,d),I(t,e),I(e,s),u&&u.m(s,null),n=!0,c||(l=[G(ct.call(null,e)),k(e,"outclick",i[2]),k(e,"click",Q(i[6]))],c=!0)},p(r,d){u&&u.p&&(!n||d&16)&&T(u,h,r,r[4],n?W(h,r[4],d,null):U(r[4]),null),d&2&&z(e,"--width",r[1])},i(r){n||(m(u,r),r&&M(()=>{n&&(a||(a=_(e,P,{y:-200},!0)),a.run(1))}),r&&M(()=>{n&&(o||(o=_(t,Y,{},!0)),o.run(1))}),n=!0)},o(r){b(u,r),r&&(a||(a=_(e,P,{y:-200},!1)),a.run(0)),r&&(o||(o=_(t,Y,{},!1)),o.run(0)),n=!1},d(r){r&&p(t),u&&u.d(r),r&&a&&a.end(),r&&o&&o.end(),c=!1,X(l)}}}function ut(i){let t,e,s,a,o=i[0]&&R(i);return{c(){o&&o.c(),t=C()},l(n){o&&o.l(n),t=C()},m(n,c){o&&o.m(n,c),A(n,t,c),e=!0,s||(a=k(window,"keyup",i[3]),s=!0)},p(n,[c]){n[0]?o?(o.p(n,c),c&1&&m(o,1)):(o=R(n),o.c(),m(o,1),o.m(t.parentNode,t)):o&&(et(),b(o,1,1,()=>{o=null}),st())},i(n){e||(m(o),e=!0)},o(n){b(o),e=!1},d(n){n&&p(t),o&&o.d(n),s=!1,a()}}}function dt(i,t,e){let{$$slots:s={},$$scope:a}=t,{width:o="auto"}=t,{open:n=!1}=t;const c=N(),l=r=>{e(0,n=!1),c("close"),r?.detail?.stopPropagation()},h=r=>{r.key=="Escape"&&(r.preventDefault(),r.stopPropagation(),l())};function u(r){x.call(this,i,r)}return i.$$set=r=>{"width"in r&&e(1,o=r.width),"open"in r&&e(0,n=r.open),"$$scope"in r&&e(4,a=r.$$scope)},[n,o,l,h,a,s,u]}class wt extends F{constructor(t){super(),V(this,t,dt,ut,q,{width:1,open:0})}}class vt extends S{iconKey="";countsAsCast=!0;constructor(t,e=!1,s=!1){super("mechanic",t),this.isParent=e,this.isDeprecated=s}toYamlObj(){const t=super.toYamlObj(),e=this.getData();e.getKeys().length>0&&t.put("data",e);const s=E(this.components);return s.length>0&&t.put("children",s),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),t.put("counts",this.countsAsCast),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}getRawData(){const t=new f("data");return this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}deserialize(t){super.deserialize(t);const e=t.get("data");e&&this.data.forEach(s=>s.deserialize(e)),this.iconKey=e.get("icon-key",""),this.countsAsCast=e.get("counts",!0),this.setComponents(t.get("children",[],s=>K.deserializeComponents(s)))}}class L extends S{iconKey="";constructor(t,e=!1){super("condition",t),super.isDeprecated=e}toYamlObj(){const t=super.toYamlObj(),e=this.getData();e.getKeys().length>0&&t.put("data",e);const s=E(this.components);return s.length>0&&t.put("children",s),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}getRawData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}deserialize(t){super.deserialize(t);const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(s=>s.deserialize(e)),this.setComponents(t.get("children",[],s=>K.deserializeComponents(s)))}static new=()=>new L({name:"null"})}class H extends S{iconKey="";constructor(t,e=!1){super("target",t),super.isDeprecated=e}toYamlObj(){const t=super.toYamlObj(),e=this.getData();e.getKeys().length>0&&t.put("data",e);const s=E(this.components);return s.length>0&&t.put("children",s),t}getData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}getRawData(){const t=new f("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}deserialize(t){super.deserialize(t);const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(s=>s.deserialize(e)),this.setComponents(t.get("children",[],s=>K.deserializeComponents(s)))}static new=()=>new H({name:"null"})}function ft(i){let t,e,s;function a(n){i[3](n)}let o={label:i[1],tooltip:i[2]};return i[0]!==void 0&&(o.value=i[0]),t=new lt({props:o}),$.push(()=>at(t,"value",a)),{c(){nt(t.$$.fragment)},l(n){it(t.$$.fragment,n)},m(n,c){ot(t,n,c),s=!0},p(n,[c]){const l={};c&2&&(l.label=n[1]),c&4&&(l.tooltip=n[2]),!e&&c&1&&(e=!0,l.value=n[0],tt(()=>e=!1)),t.$set(l)},i(n){s||(m(t.$$.fragment,n),s=!0)},o(n){b(t.$$.fragment,n),s=!1},d(n){rt(t,n)}}}function ht(i,t,e){let{data:s}=t,{name:a=""}=t,{tooltip:o=void 0}=t;const n=N();function c(l){s=l,e(0,s)}return i.$$set=l=>{"data"in l&&e(0,s=l.data),"name"in l&&e(1,a=l.name),"tooltip"in l&&e(2,o=l.tooltip)},i.$$.update=()=>{i.$$.dirty&1&&(s||!s)&&n("save")},[s,a,o,c]}class yt extends F{constructor(t){super(),V(this,t,ht,ft,q,{data:0,name:1,tooltip:2})}}const Dt=(()=>{let i=!0;{const a=localStorage.getItem("show-summary-items");i=a!==null?a==="true":i}const{subscribe:t,set:e,update:s}=g(i);return{subscribe:t,set:a=>(localStorage.setItem("show-summary-items",String(a)),e(a)),update:s}})(),kt=(()=>{let i=!0;i=localStorage.getItem("use-symbols")==="true";const{subscribe:t,set:e,update:s}=g(i);return{subscribe:t,set:a=>(localStorage.setItem("use-symbols",String(a)),e(a)),update:s}})(),Et=(()=>{let i=!0;{const a=localStorage.getItem("animation-enabled");i=a!==null?a==="true":i}const{subscribe:t,set:e,update:s}=g(i);return{subscribe:t,set:a=>(localStorage.setItem("animation-enabled",String(a)),e(a)),update:s}})(),St=(i,{delay:t=0,duration:e=500})=>{const a=getComputedStyle(i).width.match(/([\d.]+)(.*)/);if(!a)return{delay:t,duration:e,css:n=>`max-width: unset; width: ${n*100}%;`};const o=Number.parseFloat(a[1]);return{delay:t,duration:e,css:n=>`max-width: unset; width: ${n*o}${a[2]}; min-width: unset;`}},Kt=(i,{delay:t=0,duration:e=500})=>{const a=getComputedStyle(i).height.match(/([\d.]+)(.*)/);if(!a)return{delay:t,duration:e,css:n=>`max-height: unset; height: ${n*100}%;`};const o=Number.parseFloat(a[1]);return{delay:t,duration:e,css:n=>`max-height: unset; height: ${n*o}${a[2]}; min-height: unset;`}},J=g(void 0),Z=g(void 0),Ot=(i,t)=>{J.set(i),t&&Z.set(t)},jt=()=>{J.set(void 0),Z.set(void 0)};export{wt as M,H as P,yt as S,L as a,vt as b,Et as c,Dt as d,jt as e,J as f,Kt as g,Z as m,Ot as o,St as s,kt as u};
