import{s as Y,e as j,i as R,w as H,d as p,E as A,F as Q,f as w,g as D,h as y,j as v,k as C,u as z,P as U,J as W,K as X,L as x,M as I,A as k,p as tt,D as et}from"./scheduler.ProQAdXO.js";import{S as $,i as F,a as f,g as st,t as g,c as at,k as b,b as N,d as V,m as B,e as L,f as nt}from"./index.nz5Co7NY.js";import{c as ot,f as q,a as M,P as it,T as rt}from"./Toggle.G5DhHo7d.js";import{$ as E,Z as S,Y as h}from"./store.7mOsBxto.js";import{w as _}from"./singletons.VG7cdh6y.js";function P(i){let t,e,s,a,o,n,l,u;const m=i[5].default,r=Q(m,i,i[4],null);return{c(){t=w("div"),e=w("div"),s=w("div"),r&&r.c(),this.h()},l(c){t=D(c,"DIV",{class:!0});var d=y(t);e=D(d,"DIV",{class:!0});var K=y(e);s=D(K,"DIV",{class:!0});var O=y(s);r&&r.l(O),O.forEach(p),K.forEach(p),d.forEach(p),this.h()},h(){v(s,"class","wrapper svelte-sv0lqh"),v(e,"class","modal-content svelte-sv0lqh"),C(e,"--width",i[1]),v(t,"class","backdrop svelte-sv0lqh")},m(c,d){R(c,t,d),z(t,e),z(e,s),r&&r.m(s,null),n=!0,l||(u=U(ot.call(null,e,i[2])),l=!0)},p(c,d){r&&r.p&&(!n||d&16)&&W(r,m,c,c[4],n?x(m,c[4],d,null):X(c[4]),null),d&2&&C(e,"--width",c[1])},i(c){n||(f(r,c),c&&I(()=>{n&&(a||(a=b(e,q,{y:-200},!0)),a.run(1))}),c&&I(()=>{n&&(o||(o=b(t,M,{},!0)),o.run(1))}),n=!0)},o(c){g(r,c),c&&(a||(a=b(e,q,{y:-200},!1)),a.run(0)),c&&(o||(o=b(t,M,{},!1)),o.run(0)),n=!1},d(c){c&&p(t),r&&r.d(c),c&&a&&a.end(),c&&o&&o.end(),l=!1,u()}}}function ct(i){let t,e,s,a,o=i[0]&&P(i);return{c(){o&&o.c(),t=j()},l(n){o&&o.l(n),t=j()},m(n,l){o&&o.m(n,l),R(n,t,l),e=!0,s||(a=H(window,"keyup",i[3]),s=!0)},p(n,[l]){n[0]?o?(o.p(n,l),l&1&&f(o,1)):(o=P(n),o.c(),f(o,1),o.m(t.parentNode,t)):o&&(st(),g(o,1,1,()=>{o=null}),at())},i(n){e||(f(o),e=!0)},o(n){g(o),e=!1},d(n){n&&p(t),o&&o.d(n),s=!1,a()}}}function lt(i,t,e){let{$$slots:s={},$$scope:a}=t,{width:o="auto"}=t,{open:n=!1}=t;const l=A(),u=r=>{e(0,n=!1),l("close"),r?.stopPropagation()},m=r=>{r.key=="Escape"&&(r.preventDefault(),r.stopPropagation(),u())};return i.$$set=r=>{"width"in r&&e(1,o=r.width),"open"in r&&e(0,n=r.open),"$$scope"in r&&e(4,a=r.$$scope)},[n,o,u,m,a,s]}class bt extends ${constructor(t){super(),F(this,t,lt,ct,Y,{width:1,open:0})}}class wt extends E{iconKey="";countsAsCast=!0;constructor(t,e=!1,s=!1){super("mechanic",t),this.isParent=e,this.isDeprecated=s}toYamlObj(){const t=super.toYamlObj(),e=this.getData();e.getKeys().length>0&&t.put("data",e);const s=k(this.components);return s.length>0&&t.put("children",s),t}getData(){const t=new h("data");return t.put("icon-key",this.iconKey),t.put("counts",this.countsAsCast),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}getRawData(){const t=new h("data");return this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}deserialize(t){super.deserialize(t);const e=t.get("data");e&&this.data.forEach(s=>s.deserialize(e)),this.iconKey=e.get("icon-key",""),this.countsAsCast=e.get("counts",!0),this.setComponents(t.get("children",[],s=>S.deserializeComponents(s)))}}class T extends E{iconKey="";constructor(t,e=!1){super("condition",t),super.isDeprecated=e}toYamlObj(){const t=super.toYamlObj(),e=this.getData();e.getKeys().length>0&&t.put("data",e);const s=k(this.components);return s.length>0&&t.put("children",s),t}getData(){const t=new h("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}getRawData(){const t=new h("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}deserialize(t){super.deserialize(t);const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(s=>s.deserialize(e)),this.setComponents(t.get("children",[],s=>S.deserializeComponents(s)))}static new=()=>new T({name:"null"})}class J extends E{iconKey="";constructor(t,e=!1){super("target",t),super.isDeprecated=e}toYamlObj(){const t=super.toYamlObj(),e=this.getData();e.getKeys().length>0&&t.put("data",e);const s=k(this.components);return s.length>0&&t.put("children",s),t}getData(){const t=new h("data");return t.put("icon-key",this.iconKey),this.data.filter(e=>e.meetsRequirements(this)).forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}getRawData(){const t=new h("data");return t.put("icon-key",this.iconKey),this.data.forEach(e=>{const s=e.getData();Object.keys(s).forEach(a=>t.put(a,s[a]))}),t}deserialize(t){super.deserialize(t);const e=t.get("data");this.iconKey=e.get("icon-key"),e&&this.data.forEach(s=>s.deserialize(e)),this.setComponents(t.get("children",[],s=>S.deserializeComponents(s)))}static new=()=>new J({name:"null"})}function ut(i){let t,e,s;function a(n){i[3](n)}let o={};return i[0]!==void 0&&(o.data=i[0]),t=new rt({props:o}),tt.push(()=>nt(t,"data",a)),{c(){N(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,l){B(t,n,l),s=!0},p(n,l){const u={};!e&&l&1&&(e=!0,u.data=n[0],et(()=>e=!1)),t.$set(u)},i(n){s||(f(t.$$.fragment,n),s=!0)},o(n){g(t.$$.fragment,n),s=!1},d(n){L(t,n)}}}function dt(i){let t,e;return t=new it({props:{label:i[1],tooltip:i[2],$$slots:{default:[ut]},$$scope:{ctx:i}}}),{c(){N(t.$$.fragment)},l(s){V(t.$$.fragment,s)},m(s,a){B(t,s,a),e=!0},p(s,[a]){const o={};a&2&&(o.label=s[1]),a&4&&(o.tooltip=s[2]),a&33&&(o.$$scope={dirty:a,ctx:s}),t.$set(o)},i(s){e||(f(t.$$.fragment,s),e=!0)},o(s){g(t.$$.fragment,s),e=!1},d(s){L(t,s)}}}function ft(i,t,e){let{data:s}=t,{name:a=""}=t,{tooltip:o=void 0}=t;const n=A();function l(u){s=u,e(0,s)}return i.$$set=u=>{"data"in u&&e(0,s=u.data),"name"in u&&e(1,a=u.name),"tooltip"in u&&e(2,o=u.tooltip)},i.$$.update=()=>{i.$$.dirty&1&&(s||!s)&&n("save")},[s,a,o,l]}class Dt extends ${constructor(t){super(),F(this,t,ft,dt,Y,{data:0,name:1,tooltip:2})}}const yt=(()=>{let i=!0;{const a=localStorage.getItem("show-summary-items");i=a!==null?a==="true":i}const{subscribe:t,set:e,update:s}=_(i);return{subscribe:t,set:a=>(localStorage.setItem("show-summary-items",String(a)),e(a)),update:s}})(),vt=(()=>{let i=!0;i=localStorage.getItem("use-symbols")==="true";const{subscribe:t,set:e,update:s}=_(i);return{subscribe:t,set:a=>(localStorage.setItem("use-symbols",String(a)),e(a)),update:s}})(),kt=(()=>{let i=!0;{const a=localStorage.getItem("animation-enabled");i=a!==null?a==="true":i}const{subscribe:t,set:e,update:s}=_(i);return{subscribe:t,set:a=>(localStorage.setItem("animation-enabled",String(a)),e(a)),update:s}})(),Et=(i,{delay:t=0,duration:e=500}={})=>{const a=getComputedStyle(i).width.match(/([\d.]+)(.*)/);if(!a)return{delay:t,duration:e,css:n=>`max-width: unset; width: ${n*100}%;`};const o=Number.parseFloat(a[1]);return{delay:t,duration:e,css:n=>`max-width: unset; width: ${n*o}${a[2]}; min-width: unset;`}},St=(i,{delay:t=0,duration:e=500})=>{const a=getComputedStyle(i).height.match(/([\d.]+)(.*)/);if(!a)return{delay:t,duration:e,css:n=>`max-height: unset; height: ${n*100}%;`};const o=Number.parseFloat(a[1]);return{delay:t,duration:e,css:n=>`max-height: unset; height: ${n*o}${a[2]}; min-height: unset;`}},Z=_(void 0),G=_(void 0),Kt=(i,t)=>{Z.set(i),t&&G.set(t)},Ot=()=>{Z.set(void 0),G.set(void 0)};export{Dt as B,bt as M,J as P,T as a,wt as b,kt as c,yt as d,Ot as e,Z as f,St as g,G as m,Kt as o,Et as s,vt as u};
